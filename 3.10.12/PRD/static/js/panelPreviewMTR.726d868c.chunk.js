(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[119],{345:function(e,t,r){"use strict";r.r(t),r.d(t,"getBase64FontFace",(function(){return l}));var n=r(12),a=r.n(n),c=r(41),u=r(30),o=r(22),s=function(){var e=Object(o.a)(a.a.mark((function e(t,r){var n,o,s,i,p,l,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,document.fonts.load("80px Noto Serif "+r,t);case 2:if(n=e.sent,o=Object(u.a)(n,1),!(s=o[0])){e.next=11;break}if(p=document.querySelector("style#googlefonts"),l=p.sheet,!(f=null===(i=Object(c.a)(l.cssRules).find((function(e){var t=e.cssText;return t.includes("Noto Serif "+r)&&t.includes(s.unicodeRange)})))||void 0===i?void 0:i.cssText)){e.next=11;break}return e.abrupt("return",f);case 11:throw Error("Can't render ".concat(t," with Noto Serif ").concat(r));case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),i=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\u95e8"!==t){e.next=4;break}return e.next=3,s(t,"SC");case 3:case 7:case 15:return e.abrupt("return",e.sent);case 4:return e.prev=4,e.next=7,s(t,"KR");case 10:return e.prev=10,e.t0=e.catch(4),e.prev=12,e.next=15,s(t,"JP");case 18:return e.prev=18,e.t1=e.catch(12),e.next=22,Promise.allSettled([s(t,"TC"),s(t,"SC")]);case 22:return r=e.sent,(n=r.reduce((function(e,t){return"fulfilled"===t.status?e.concat(t.value):e}),[])).length||console.warn(t+": not found"),e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,null,[[4,10],[12,18]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return new Promise((function(t){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.readAsDataURL(e)}))},l=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n,u,s,l,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://fonts.googleapis.com/css?family=Noto+Serif+KR:600|Noto+Serif+JP:600|Noto+Serif+TC:600|Noto+Serif+SC:600%26display=swap");case 3:return n=e.sent,e.next=6,n.text();case 6:return u=e.sent,(s=document.createElement("style")).id="googlefonts",s.textContent=u,document.head.prepend(s),l=Object(c.a)(new Set(Object(c.a)(t.querySelectorAll(".rmg-name__zh")).map((function(e){return e.innerHTML})).join("").replace(/[\d\w\s]/g,""))),e.next=14,Promise.all(l.map(i));case 14:return f=e.sent,s.remove(),e.next=18,Promise.all(Object(c.a)(new Set((r=[]).concat.apply(r,Object(c.a)(f)))).map(function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t.match(/https:[\w:/.-]+.woff2/g)[0]);case 3:return r=e.sent,e.t0=p,e.next=7,r.blob();case 7:return e.t1=e.sent,e.next=10,(0,e.t0)(e.t1);case 10:return n=e.sent,e.abrupt("return",t.replace(/src:[ \w('",\-:/.)]+;/g,"src: url('".concat(n,"'); ")));case 14:return e.prev=14,e.t2=e.catch(0),console.warn(e.t2),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()));case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e.catch(0),e.t0;case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=panelPreviewMTR.726d868c.chunk.js.map