(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[72],{109:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(7),c=a(1),l=a.n(c),m=a(5);t.default=Object(c.memo)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i,null),l.a.createElement(o,null))}));var i=Object(c.memo)((function(){return l.a.createElement("defs",null,l.a.createElement("marker",{id:"slope",viewBox:"-1.5 0 3 1.5",refY:.5},l.a.createElement("path",{d:"M0,0L1,1H-1z",fill:"var(--rmg-theme-colour)"})))})),o=function(){var e=Object(c.useContext)(m.b),t=e.param,a=e.routes,i=Object(r.a)(new Set(a.filter((function(e){return e.includes(t.current_stn_idx)})).map((function(e){var a=e.filter((function(e){return!["linestart","lineend"].includes(e)}));return"l"===t.direction?a[0]:a.reverse()[0]})))),o=[i.map((function(e){return t.stn_list[e].name[0]})),i.map((function(e){return t.stn_list[e].name[1]}))],g=Object(c.useRef)(null),h=Object(c.useState)({width:0}),E=Object(n.a)(h,2),b=E[0],_=E[1];Object(c.useEffect)((function(){return _(g.current.getBBox())}),Object(r.a)(o.flat()));var v=t.svgWidth.destination/2,p=v-10-36-b.width>=162.5&&v-10-36-264>=162.5?v:"l"===t.direction?(t.svgWidth.destination+b.width-264)/2:(t.svgWidth.destination-b.width+264)/2;return l.a.createElement("g",{transform:"translate(0,".concat(t.svg_height-300,")")},l.a.createElement("path",{stroke:"var(--rmg-theme-colour)",strokeWidth:12,d:"l"===t.direction?"M".concat(t.svgWidth.destination-24,",16 H 36"):"M24,16 H ".concat(t.svgWidth.destination-36),transform:"translate(0,220)",markerEnd:"url(#slope)"}),l.a.createElement(s,{ref:g,destNames:o}),!1!==t.platform_num&&l.a.createElement("g",{transform:"translate(".concat(p,",0)")},l.a.createElement(u,null)),t.line_name[0].match(/^[\w\d]+/)?l.a.createElement(f,null):l.a.createElement(d,null))},s=Object(c.forwardRef)((function(e,t){var a=Object(c.useContext)(m.b).param;return l.a.createElement("g",{ref:t,transform:"translate(".concat("l"===a.direction?36:a.svgWidth.destination-36,",145)")},Object(c.useMemo)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("g",{transform:"translate(0,".concat(2===e.destNames[0].length?-20:20,")")},l.a.createElement("path",{d:"M60,60L0,0L60-60H100L55-15H160V15H55L100,60z",fill:"black",transform:"rotate(".concat("l"===a.direction?0:180,")scale(0.8)")})),l.a.createElement("g",{textAnchor:"l"===a.direction?"start":"end",transform:"translate(".concat("l"===a.direction?148:-148,",25)")},e.destNames[0].map((function(e,t){return l.a.createElement("text",{className:"rmg-name__zh",fontSize:70,dy:-100*t+7,key:t},"\u5f80"+e)})),e.destNames[1].map((function(e,t){return l.a.createElement("text",{className:"rmg-name__en",fontSize:25,dy:-100*t+40,key:t},"To "+e)}))))}),[a.direction].concat(Object(r.a)(e.destNames.flat()))))})),u=function(){var e=Object(c.useContext)(m.b).param;return l.a.createElement("g",{transform:"translate(".concat(-102.5,",150)")},l.a.createElement("circle",{r:60,fill:"none",stroke:"black",strokeWidth:2}),l.a.createElement("text",{className:"rmg-name__en",dominantBaseline:"central",fontSize:120,textAnchor:"middle"},e.platform_num),l.a.createElement("text",{className:"rmg-name__zh",fontSize:100,dominantBaseline:"central",x:65},"\u7ad9\u53f0"))},d=function(){var e=Object(c.useContext)(m.b).param,t=e.line_name,a="l"===e.direction?e.svgWidth.destination-36-132:168;return Object(c.useMemo)((function(){return l.a.createElement("g",{transform:"translate(".concat(a,",92)")},l.a.createElement("rect",{fill:"var(--rmg-theme-colour)",x:-132,width:264,height:120}),l.a.createElement("g",{textAnchor:"middle",transform:"translate(0,68)",fill:"var(--rmg-theme-fg)"},l.a.createElement("text",{className:"rmg-name__zh",fontSize:68},t[0]),l.a.createElement("text",{className:"rmg-name__en",fontSize:30,dy:42},t[1])))}),[a].concat(Object(r.a)(t)))},f=function(){var e=Object(c.useContext)(m.b).param,t=e.line_name[0].match(/^[\w\d]+|.+/g),a=Object(n.a)(t,2),i=a[0],o=a[1],s="l"===e.direction?e.svgWidth.destination-36-210:90;return Object(c.useMemo)((function(){return l.a.createElement("g",{transform:"translate(".concat(s,",92)")},l.a.createElement("rect",{fill:"var(--rmg-theme-colour)",x:-54,width:108,height:120}),l.a.createElement("text",{className:"rmg-name__zh",fill:"var(--rmg-theme-fg)",fontSize:96,textAnchor:"middle",dominantBaseline:"central",transform:"translate(0,60)",letterSpacing:-5},i),l.a.createElement("g",{textAnchor:"start",transform:"translate(74,68)"},l.a.createElement("text",{className:"rmg-name__zh",fontSize:68},o),l.a.createElement("text",{className:"rmg-name__en",fontSize:30,dy:42},e.line_name[1])))}),[s].concat(Object(r.a)(e.line_name)))}}}]);
//# sourceMappingURL=destinationSHMetro.f14435a7.chunk.js.map