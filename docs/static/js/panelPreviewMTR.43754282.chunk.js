(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[119],{345:function(e,r,n){"use strict";n.r(r),n.d(r,"getBase64FontFace",(function(){return o}));var t=n(12),a=n.n(t),u=n(41),c=n(22),s=function(e){return new Promise((function(r){var n=new FileReader;n.onloadend=function(){return r(n.result)},n.readAsDataURL(e)}))},o=function(){var e=Object(c.a)(a.a.mark((function e(r){var n,t,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(new Set(Object(u.a)(r.querySelectorAll(".rmg-name__zh")).map((function(e){return e.innerHTML})).join("").replace(/[\d\w\s]/g,""))).join(""),e.next=3,document.fonts.load("80px GenYoMin TW",n);case 3:return t=e.sent,o=t.map((function(e){return e.unicodeRange})),i=Array.from(document.querySelector("link#css_share").sheet.cssRules[0].styleSheet.cssRules).filter((function(e){return o.includes(e.style.unicodeRange)})),e.next=8,Promise.all(i.map(function(){var e=Object(c.a)(a.a.mark((function e(r){var n,t,u,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="/uat-rail-map-generator/styles/"+(null===(n=r.style.src.match(/^url\("([\S*]+)"\)/))||void 0===n?void 0:n[1]),e.next=4,fetch(t);case 4:return u=e.sent,e.t0=s,e.next=8,u.blob();case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:return c=e.sent,e.abrupt("return",r.cssText.replace(/src:[ \w('",\-:/.)]+;/g,"src: url('".concat(c,"'); ")));case 15:return e.prev=15,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return","");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(r){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=panelPreviewMTR.43754282.chunk.js.map