(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[85],{127:function(e,t,n){"use strict";n.r(t);var a=n(7),i=n(4),l=n(1),r=n.n(l),c=n(6),o=n(2),s=n(5),m=n(103),u=Object(o.makeStyles)((function(){return Object(o.createStyles)({listItemIcon:{width:"1em",fontSize:"1.5rem",textAlign:"center"}})})),d=function(e){var t=Object(c.useTranslation)().t,n=u();return l.useMemo((function(){return l.createElement(l.Fragment,null,l.createElement(o.ListItem,null,l.createElement(o.ListItemIcon,null,l.createElement("span",{className:n.listItemIcon},"\u6587")),l.createElement(o.TextField,{style:{width:"100%"},variant:"outlined",label:t("stations.edit.name.nameZH"),onChange:e.onUpdate(0),value:e.name[0],autoFocus:!0})),l.createElement(o.ListItem,null,l.createElement(o.ListItemIcon,null,l.createElement("span",{className:n.listItemIcon},"A")),l.createElement(o.TextField,{style:{width:"100%"},variant:"outlined",label:t("stations.edit.name.nameEN"),onChange:e.onUpdate(1),value:e.name[1],helperText:t("stations.edit.name.nameENHelper")})))}),[e.name.toString()])},I=(t.default=function(e){var t=Object(c.useTranslation)().t,n=Object(l.useContext)(s.a).rmgStyle,m=Object(l.useContext)(s.b),u=m.param,d=m.dispatch,I=u.stn_list[e.stnId].transfer,g=r.a.useState(!1),T=Object(i.a)(g,2),f=T[0],C=T[1],_=function(t){var n=[].concat(Object(a.a)(u.theme),["\u8f49\u7dab","Line"]);d({type:"ADD_STATION_INTERCHANGE_INFO",stnId:e.stnId,setIdx:t,info:n})},N=function(t,n){d({type:"REMOVE_STATION_INTERCHANGE_INFO",stnId:e.stnId,setIdx:t,intIdx:n})};return r.a.createElement(o.List,null,r.a.createElement(o.ListItem,null,r.a.createElement(o.ListItemText,null,r.a.createElement("h3",{style:{margin:0}},t("stations.edit.interchange.within"))),r.a.createElement(o.ListItemSecondaryAction,null,r.a.createElement(o.Tooltip,{title:t("stations.edit.interchange.add"),"aria-label":"add"},r.a.createElement(o.IconButton,{onClick:function(){return _(0)}},r.a.createElement(o.Icon,null,"add_circle"))))),r.a.createElement(o.ListItem,null,r.a.createElement(E,{stnId:e.stnId,setIndex:0,onDelete:function(e){return N(0,e)}})),["mtr","shmetro"].includes(n||"")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Divider,null),r.a.createElement(o.ListItem,null,r.a.createElement(o.ListItemText,null,r.a.createElement("h3",{style:{margin:0}},t("stations.edit.interchange.osi"))),r.a.createElement(o.ListItemSecondaryAction,null,r.a.createElement(o.Button,{variant:"outlined",color:"primary",style:{lineHeight:"1rem",whiteSpace:"pre",marginRight:5},onClick:function(){return C(!0)}},I.osi_names[0]?I.osi_names[0].join("\r\n"):"\u8eca\u7ad9\u540d\r\nStn Name"),r.a.createElement(p,{open:f,osiName:I.osi_names[0]||["",""],stnId:e.stnId,onClose:function(){return C(!1)}}),r.a.createElement(o.Tooltip,{title:t("stations.edit.interchange.add"),"aria-label":"add"},r.a.createElement(o.IconButton,{onClick:function(){return _(1)}},r.a.createElement(o.Icon,null,"add_circle"))))),r.a.createElement(o.ListItem,null,r.a.createElement(E,{stnId:e.stnId,setIndex:1,onDelete:function(e){return N(1,e)}})),r.a.createElement(o.ListItem,null,r.a.createElement("span",null,t("stations.edit.interchange.note")))),"mtr"===n&&r.a.createElement(h,{stnId:e.stnId}))},Object(o.makeStyles)((function(){return Object(o.createStyles)({intChip:{borderRadius:4.5,height:40,lineHeight:"1rem",margin:2},intChipText:{display:"block",textAlign:"center"},intChipTextZH:{fontSize:18,lineHeight:"1.2rem"},intChipTextEN:{fontSize:".75rem",lineHeight:".9rem",whiteSpace:"pre-wrap"},intChipLabel:{paddingLeft:6,paddingRight:6},intChipDeleteIcon:{marginLeft:-3}})}))),E=function(e){var t=I(),n=r.a.useContext(s.b),a=n.param,l=n.dispatch,c=a.stn_list[e.stnId].transfer.info[e.setIndex],u=r.a.useState(-1),d=Object(i.a)(u,2),E=d[0],p=d[1],h=r.a.useState(!1),g=Object(i.a)(h,2),T=g[0],f=g[1],C=null===c||void 0===c?void 0:c.map((function(n,a){var i=r.a.createElement("span",{style:{color:n[3]}},r.a.createElement("span",{className:"".concat(t.intChipText," ").concat(t.intChipTextZH)},n[4]),r.a.createElement("span",{className:"".concat(t.intChipText," ").concat(t.intChipTextEN)},n[5]));return r.a.createElement(o.Chip,{key:a,label:i,className:t.intChip,classes:{label:t.intChipLabel,deleteIcon:t.intChipDeleteIcon},style:{backgroundColor:n[2]},onDelete:function(){return e.onDelete(a)},onClick:function(){return p(a),void f(!0)}})}));return r.a.createElement("div",null,C,r.a.createElement(m.a,{open:T,theme:void 0===(null===c||void 0===c?void 0:c[E])?[]:[c[E][0],c[E][1],c[E][2],c[E][3]],lineName:void 0===(null===c||void 0===c?void 0:c[E])?["",""]:[c[E][4],c[E][5]],onUpdate:function(t,n){"theme"===t&&l({type:"UPDATE_STATION_INTERCHANGE_INFO",stnId:e.stnId,setIdx:e.setIndex,intIdx:E,info:n.concat(Array(2))}),"name"===t&&l({type:"UPDATE_STATION_INTERCHANGE_INFO",stnId:e.stnId,setIdx:e.setIndex,intIdx:E,info:Array(4).concat(n)})},onClose:function(){return f(!1)}}))},p=r.a.memo((function(e){var t=Object(c.useTranslation)().t,n=Object(l.useContext)(s.b).dispatch;return r.a.createElement(o.Dialog,{open:e.open,onClose:e.onClose},r.a.createElement(o.DialogTitle,null,t("stations.edit.interchange.osiName")),r.a.createElement(o.DialogContent,{dividers:!0},r.a.createElement(o.List,null,r.a.createElement(d,{onUpdate:function(t){return function(a){var i=e.osiName.map((function(e,n){return n===t?a.target.value:e}));n({type:"UPDATE_STATION_OSI_NAME",stnId:e.stnId,name:i})}},name:e.osiName}))),r.a.createElement(o.DialogActions,null,r.a.createElement(o.Button,{onClick:e.onClose,color:"primary",autoFocus:!0},t("dialog.done"))))}),(function(e,t){return e.open===t.open&&e.osiName.toString()===t.osiName.toString()})),h=function(e){var t=Object(c.useTranslation)().t,n=r.a.useContext(s.b),a=n.param,i=n.dispatch,l=a.stn_list[e.stnId].transfer,m=function(t){var n=t.target.value;"l"!==n&&"r"!==n||i({type:"UPDATE_STATION_TICK_DIREC",stnId:e.stnId,direction:n})};return r.a.useMemo((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Divider,null),r.a.createElement(o.ListItem,null,r.a.createElement(o.ListItemText,null,r.a.createElement("h3",{style:{margin:0}},t("stations.edit.interchange.settings")))),r.a.createElement(o.ListItem,null,r.a.createElement(o.ListItemIcon,null,r.a.createElement(o.Icon,null,"format_textdirection_l_to_r")),r.a.createElement(o.ListItemText,{primary:t("stations.edit.interchange.tickDirec.label")}),r.a.createElement(o.ListItemSecondaryAction,null,r.a.createElement(o.Select,{native:!0,value:l.tick_direc,onChange:m},["l","r"].map((function(e){return r.a.createElement("option",{key:e,value:e},t("stations.edit.interchange.tickDirec."+e))}))))),r.a.createElement(o.ListItem,null,r.a.createElement(o.ListItemIcon,null,r.a.createElement(o.Icon,null,"attach_money")),r.a.createElement(o.ListItemText,{primary:t("stations.edit.interchange.paidArea")}),r.a.createElement(o.ListItemSecondaryAction,null,r.a.createElement(o.Switch,{color:"primary",edge:"end",onChange:function(t,n){return i({type:"UPDATE_STATION_PAID_AREA",stnId:e.stnId,isPaid:n})},checked:l.paid_area}))))}),[e.stnId,l.tick_direc,l.paid_area])}}}]);
//# sourceMappingURL=panelStationsInterchange.2e99b64d.chunk.js.map