{"version":3,"sources":["panels/layout/common.tsx","panels/layout/panel.tsx","panels/layout/index.ts"],"names":["useStyles","makeStyles","theme","createStyles","nestedList","paddingLeft","spacing","textField","maxWidth","slider","width","marginLeft","marginRight","memo","rmgStyle","useContext","CanvasContext","SizeLi","t","useTranslation","classes","ParamContext","param","dispatch","canvasAvailable","useState","isOpen","setIsOpen","useMemo","button","onClick","prevOpen","primary","color","in","unmountOnExit","component","disablePadding","className","map","canvas","Fragment","key","value","svgWidth","toString","onChange","e","isNaN","Number","target","type","targetId","InputProps","endAdornment","position","variant","svg_height","JSON","stringify","YLi","y_pc","_","step","marks","label","valueLabelDisplay","BranchSpacingLi","branch_spacing","PaddingLi","padding","max","LayoutGZMTR","React","lazy","container","justify","alignItems","item","xs","sm","md","lg","Suspense","fallback","Panel"],"mappings":"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","file":"static/js/panelLayout.b01bb04d.chunk.js","sourcesContent":["import React, { useState, useContext, useMemo, memo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n    TextField,\n    Slider,\n    List,\n    ListItem,\n    ListItemIcon,\n    Icon,\n    ListItemText,\n    makeStyles,\n    createStyles,\n    Collapse,\n    Divider,\n    InputAdornment,\n} from '@material-ui/core';\nimport { ParamContext, CanvasContext } from '../../context';\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        nestedList: {\n            paddingLeft: theme.spacing(5),\n        },\n        textField: {\n            maxWidth: 168,\n        },\n        slider: {\n            width: 168,\n            marginLeft: 8,\n            marginRight: 8,\n        },\n    })\n);\n\nexport default memo(function LayoutCommon() {\n    const { rmgStyle } = useContext(CanvasContext);\n    return (\n        <>\n            <SizeLi />\n            <Divider />\n            {rmgStyle !== 'shmetro' && (\n                <>\n                    <YLi />\n                    <Divider />\n                </>\n            )}\n            <BranchSpacingLi />\n            <Divider />\n            <PaddingLi />\n        </>\n    );\n});\n\nconst SizeLi = () => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n\n    const { param, dispatch } = useContext(ParamContext);\n    const { canvasAvailable } = useContext(CanvasContext);\n\n    const [isOpen, setIsOpen] = useState(false);\n\n    return useMemo(\n        () => (\n            <>\n                <ListItem button onClick={() => setIsOpen(prevOpen => !prevOpen)}>\n                    <ListItemIcon>\n                        <Icon>panorama_horizontal</Icon>\n                    </ListItemIcon>\n                    <ListItemText primary={t('layout.size.title')} />\n                    {isOpen ? <Icon color=\"action\">expand_less</Icon> : <Icon color=\"action\">expand_more</Icon>}\n                </ListItem>\n                <Collapse in={isOpen} unmountOnExit>\n                    <List component=\"div\" disablePadding className={classes.nestedList}>\n                        {canvasAvailable.map(canvas => (\n                            <React.Fragment key={canvas}>\n                                <ListItem>\n                                    <ListItemText primary={t('layout.size.width.' + canvas)} />\n                                    <TextField\n                                        value={param.svgWidth[canvas].toString()}\n                                        onChange={e =>\n                                            !isNaN(Number(e.target.value)) &&\n                                            dispatch({\n                                                type: 'SET_WIDTH',\n                                                targetId: canvas,\n                                                value: Number(e.target.value),\n                                            })\n                                        }\n                                        className={classes.textField}\n                                        InputProps={{\n                                            endAdornment: <InputAdornment position=\"end\">px</InputAdornment>,\n                                        }}\n                                    />\n                                </ListItem>\n                                <Divider variant=\"middle\" />\n                            </React.Fragment>\n                        ))}\n                        <ListItem>\n                            <ListItemText primary={t('layout.size.height')} />\n                            <TextField\n                                value={param.svg_height.toString()}\n                                onChange={e =>\n                                    !isNaN(Number(e.target.value)) &&\n                                    dispatch({ type: 'SET_HEIGHT', value: Number(e.target.value) })\n                                }\n                                className={classes.textField}\n                                InputProps={{\n                                    endAdornment: <InputAdornment position=\"end\">px</InputAdornment>,\n                                }}\n                            />\n                        </ListItem>\n                    </List>\n                </Collapse>\n            </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [JSON.stringify(param.svgWidth), param.svg_height, isOpen, classes.nestedList]\n    );\n};\n\nconst YLi = () => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n    const { param, dispatch } = useContext(ParamContext);\n\n    return useMemo(\n        () => (\n            <ListItem>\n                <ListItemIcon>\n                    <Icon>vertical_align_center</Icon>\n                </ListItemIcon>\n                <ListItemText primary={t('layout.y')} />\n                <Slider\n                    className={classes.slider}\n                    value={param.y_pc}\n                    onChange={(_, value) => dispatch({ type: 'SET_Y', value: value as number })}\n                    step={0.01}\n                    marks={[\n                        { value: 0, label: '0%' },\n                        { value: 100, label: '100%' },\n                    ]}\n                    valueLabelDisplay=\"auto\"\n                />\n            </ListItem>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [param.y_pc, classes.slider]\n    );\n};\n\nconst BranchSpacingLi = () => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n    const { param, dispatch } = useContext(ParamContext);\n\n    return useMemo(\n        () => (\n            <ListItem>\n                <ListItemIcon>\n                    <Icon>format_line_spacing</Icon>\n                </ListItemIcon>\n                <ListItemText primary={t('layout.branchSpacing')} />\n                <Slider\n                    className={classes.slider}\n                    value={param.branch_spacing}\n                    onChange={(_, value) => dispatch({ type: 'SET_BRANCH_SPACING', value: value as number })}\n                    step={0.01}\n                    marks={[\n                        { value: 0, label: '0px' },\n                        { value: 100, label: '100px' },\n                    ]}\n                    valueLabelDisplay=\"auto\"\n                />\n            </ListItem>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [param.branch_spacing, classes.slider]\n    );\n};\n\nconst PaddingLi = () => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n    const { param, dispatch } = useContext(ParamContext);\n\n    return useMemo(\n        () => (\n            <ListItem>\n                <ListItemIcon>\n                    <Icon>stay_current_landscape</Icon>\n                </ListItemIcon>\n                <ListItemText primary={t('layout.padding')} />\n                <Slider\n                    className={classes.slider}\n                    value={param.padding}\n                    onChange={(_, value) => dispatch({ type: 'SET_PADDING', value: value as number })}\n                    step={0.01}\n                    max={50}\n                    marks={[\n                        { value: 0, label: '0%' },\n                        { value: 50, label: '50%' },\n                    ]}\n                    valueLabelDisplay=\"auto\"\n                />\n            </ListItem>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [param.padding, classes.slider]\n    );\n};\n","import React, { useContext } from 'react';\n\nimport { Grid, Paper, List, LinearProgress } from '@material-ui/core';\n\nimport LayoutCommon from './common';\nimport { CanvasContext } from '../../context';\nconst LayoutGZMTR = React.lazy(() => import(/* webpackChunkName: \"panelLayoutGZMTR\" */ './gzmtr'));\n\nexport default React.memo(function LayoutPanel() {\n    const { rmgStyle } = useContext(CanvasContext);\n    return (\n        <Grid container spacing={3} justify=\"center\" alignItems=\"flex-start\">\n            <Grid item xs={12} sm={10} md={7} lg={5}>\n                <Paper>\n                    <List component=\"div\" disablePadding>\n                        <LayoutCommon />\n                        {rmgStyle === 'gzmtr' && (\n                            <React.Suspense fallback={<LinearProgress />}>\n                                <LayoutGZMTR />\n                            </React.Suspense>\n                        )}\n                    </List>\n                </Paper>\n            </Grid>\n        </Grid>\n    );\n});\n\n// export default LayoutPanel;\n","import Panel from './panel';\n\nexport default Panel;"],"sourceRoot":""}