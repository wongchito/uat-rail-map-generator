{"version":3,"sources":["panels/stations/edit-diag/name-list-items.tsx","panels/stations/edit-diag/interchange-tab.tsx","constants/colours lazy /^/.//.*$/ groupOptions: {} namespace object","panels/colour-diag/theme-items.tsx","panels/colour-diag/dialog.tsx","panels/colour-diag/index.ts"],"names":["useStyles","makeStyles","createStyles","listItemIcon","width","fontSize","textAlign","NameListItems","props","t","useTranslation","classes","React","className","style","variant","label","onChange","onUpdate","value","name","autoFocus","helperText","toString","intChipSetStyles","StationEditInterchangeTab","reduxDispatch","useDispatch","rmgStyle","useSelector","store","app","theme","param","useContext","ParamContext","dispatch","stnTrans","stn_list","stnId","transfer","useState","osiNameDialogOpened","setOsiNameDialogOpened","addClick","index","newInfo","type","setIdx","info","addInterchange","deleteClick","i","intIdx","removeInterchange","margin","title","onClick","setIndex","onDelete","RmgStyle","MTR","SHMetro","includes","color","lineHeight","whiteSpace","marginRight","osi_names","join","OSINameDialog","open","osiName","onClose","intChip","borderRadius","height","intChipText","display","intChipTextZH","intChipTextEN","intChipLabel","paddingLeft","paddingRight","intChipDeleteIcon","marginLeft","InterchangeChipSet","intInfos","chipSelected","setChipSelected","nameDialogOpened","setNameDialogOpened","intChips","map","intInfo","deleteIcon","backgroundColor","undefined","lineName","key","concat","Array","updateInterchange","memo","dividers","event","newOSIName","val","target","updateStationOsiName","prevProps","nextProps","InterchangeMore","tickDirecChange","direction","updateStationTickDirection","useMemo","primary","native","tick_direc","d","edge","_","checked","isPaid","updateStationPaidArea","paid_area","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","cityItem","flexDirection","alignItems","menuItemSpan","padding","button","minWidth","inputColour","position","left","top","buttonContainer","flexShrink","PalettePanel","i18n","lineList","list","setList","listPromise","default","useEffect","a","data","CityCode","Other","colour","fg","MonoColour","white","useLineList","length","filter","l","newTheme","component","disablePadding","slice","select","line","disabled","getTransText2","languages","CustomPanel","hexTemp","setHexTemp","rgb","opacity","htmlFor","borderColor","error","match","hex","idx","toUpperCase","CitySelectItem","items","cityList","c","CountryFlag","country","useEmojiStyles","img","codePoints","split","char","codePointAt","LanguageCode","ChineseCN","ChineseSimp","language","navigator","platform","indexOf","src","process","alt","String","fromCodePoint","cp","parseInt","contentWrapper","overflow","paddingTop","spacing","paddingBottom","breakpoints","down","contentLeft","maxWidth","contentControl","flexGrow","paperRoot","listItemPaper","justifyContent","iconRoot","palette","action","active","inputBaseRoot","inputBaseInputZH","inputBaseInputEN","chipWrapper","overflowX","chipRoot","chipLabel","Dialog2","LineNameInput","nameChange","newName","root","input","RecentChipSet","line_name","allInfos","Set","values","reduce","acc","JSON","stringify","reverse","chips","x","parse","txt","secondary","secondaryTypographyProps","ColourControl","tabIndex","setTabIndex","tabNav","indicatorColor","textColor","scrollButtons","panel","ColourDialog"],"mappings":"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AED,eAAgB,CACf,GACA,IAED,cAAe,CACd,GACA,IAED,iBAAkB,CACjB,GACA,IAED,aAAc,CACb,GACA,GAED,gBAAiB,CAChB,GACA,GAED,cAAe,CACd,GACA,GAED,iBAAkB,CACjB,GACA,GAED,WAAY,CACX,GACA,GAED,cAAe,CACd,GACA,GAED,YAAa,CACZ,GACA,GAED,eAAgB,CACf,GACA,GAED,cAAe,CACd,GACA,GAED,iBAAkB,CACjB,GACA,GAED,aAAc,CACb,GACA,GAED,gBAAiB,CAChB,GACA,GAED,aAAc,CACb,GACA,GAED,gBAAiB,CAChB,GACA,GAED,WAAY,CACX,GACA,GAED,cAAe,CACd,GACA,GAED,cAAe,CACd,GACA,IAED,iBAAkB,CACjB,GACA,IAED,WAAY,CACX,GACA,IAED,cAAe,CACd,GACA,IAED,UAAW,CACV,GACA,IAED,aAAc,CACb,GACA,IAED,WAAY,CACX,GACA,IAED,cAAe,CACd,GACA,IAED,YAAa,CACZ,GACA,IAED,eAAgB,CACf,GACA,IAED,cAAe,CACd,GACA,IAED,iBAAkB,CACjB,GACA,IAED,UAAW,CACV,GACA,IAED,aAAc,CACb,GACA,IAED,SAAU,CACT,GACA,IAED,YAAa,CACZ,GACA,IAED,UAAW,CACV,GACA,IAED,aAAc,CACb,GACA,IAED,UAAW,CACV,GACA,IAED,aAAc,CACb,GACA,IAED,YAAa,CACZ,GACA,IAED,eAAgB,CACf,GACA,IAED,iBAAkB,CACjB,GACA,IAED,oBAAqB,CACpB,GACA,IAED,UAAW,CACV,GACA,IAED,aAAc,CACb,GACA,IAED,aAAc,CACb,GACA,IAED,gBAAiB,CAChB,GACA,IAED,aAAc,CACb,GACA,IAED,gBAAiB,CAChB,GACA,IAED,cAAe,CACd,GACA,IAED,iBAAkB,CACjB,GACA,IAED,cAAe,CACd,GACA,IAED,iBAAkB,CACjB,GACA,IAED,WAAY,CACX,GACA,IAED,cAAe,CACd,GACA,IAED,YAAa,CACZ,GACA,IAED,eAAgB,CACf,GACA,IAED,UAAW,CACV,GACA,IAED,aAAc,CACb,GACA,IAED,YAAa,CACZ,GACA,IAED,eAAgB,CACf,GACA,IAED,gBAAiB,CAChB,GACA,IAED,mBAAoB,CACnB,GACA,IAED,SAAU,CACT,GACA,IAED,YAAa,CACZ,GACA,KAGF,SAASkC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAErC,EAAKmC,GAC9B,OAAOG,QAAQC,UAAUC,MAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBP,EAAM,KAEjD,MADAM,EAAEE,KAAO,mBACHF,KAIR,IAAIG,EAAM5C,EAAImC,GAAMU,EAAKD,EAAI,GAC7B,OAAOR,EAAoBK,EAAEG,EAAI,IAAIJ,MAAK,WACzC,OAAOJ,EAAoBS,MAG7BX,EAAoBY,KAAO,WAC1B,OAAOC,OAAOD,KAAK9C,IAEpBkC,EAAoBW,GAAK,GACzBG,EAAOC,QAAUf,G,sJCrSX/H,EAAYC,sBAAW,kBACzBC,uBAAa,CACT6I,SAAU,CACNjE,QAAS,OACTkE,cAAe,MACfC,WAAY,UAEhBC,aAAc,CACVC,QAAS,WAEbC,OAAQ,CACJzE,aAAc,MACdC,OAAQ,GACRxE,MAAO,GACPiJ,SAAU,EACVlF,YAAa,EAEbgF,QAAS,GAEbG,YAAa,CACTC,SAAU,WACVnJ,MAAO,EACPwE,OAAQ,EACR4E,KAAM,GACNC,IAAK,IAETC,gBAAiB,CACb5E,QAAS,OACT6E,WAAY,QAoCXC,EAAe,SAACpJ,GACzB,MAAoBE,2BAAZD,EAAR,EAAQA,EAAGoJ,EAAX,EAAWA,KACLlJ,EAAUX,IAMV8J,EAvCU,SAAC9H,GACjB,MAAwBpB,IAAM6B,SAAS,IAAvC,mBAAOsH,EAAP,KAAaC,EAAb,KAEMC,EAAcjI,EAAM,GACpB,kBAAoEA,EAAM,KAAMqG,MAC5E,SAAAQ,GAAM,OAAIA,EAAOqB,WAErB/B,QAAQC,QAAQ,IAgBtB,OAdA+B,qBACI,WAC4B,qBAAbnI,EAAM,IAGjB,sBAAC,4BAAAoI,EAAA,sEACsBH,EADtB,OACSI,EADT,OAEGL,EAAQhI,EAAM,KAAOsI,IAASC,MAAQ,CAAC,2BAAKF,EAAK,IAAX,IAAeG,OAAQxI,EAAM,GAAIyI,GAAIzI,EAAM,IAAM0I,IAAWC,SAAWN,GAFhH,0CAAD,KAMJ,CAACrI,EAAMT,aAGJwI,EAgBUa,CAAYpK,EAAMwB,OAGnCmI,qBACI,WACI,GAAwB,IAApBL,EAASe,SACTf,EAASgB,QAAO,SAAAC,GAAC,OAAIA,EAAErC,KAAOlI,EAAMwB,MAAM,MAAI6I,OAAlD,CACA,MAAyBf,EAAS,GAA5BpB,EAAN,EAAMA,GAAI8B,EAAV,EAAUA,OAAQC,EAAlB,EAAkBA,GACdO,EAAW,CAACxK,EAAMwB,MAAM,GAAI0G,EAAI8B,EAAQC,GAAMC,IAAWC,OAC7DnK,EAAMU,SAAS,QAAS8J,MAG5B,CAAClB,IAUL,OACI,eAAC,OAAD,CAAMmB,UAAU,MAAMC,gBAAc,EAApC,UACI,cAAC,EAAD,CAAgB/J,MAAOX,EAAMwB,MAAM,GAAIf,SA5B5B,SAACwF,GAAD,OACfjG,EAAMU,SAAS,QAAf,CAAyBuF,EAAMG,OAAOzF,OAAtC,mBAAgDX,EAAMwB,MAAMmJ,MAAM,SA4B9D,cAAC,UAAD,CAASpK,QAAQ,WACjB,eAAC,WAAD,WACI,cAAC,eAAD,CAAcsG,QAAS5G,EAAE,iBACzB,cAAC,YAAD,CACI2K,QAAM,EACNtK,MAAO,CAAEV,MAAO,KAChBa,SAhBG,SAACwF,GAChB,IAAI4E,EAAO5E,EAAMG,OAAOzF,MACxB,EAAqB2I,EAASgB,QAAO,SAAAC,GAAC,OAAIA,EAAErC,KAAO2C,KAAM,GAAnDb,EAAN,EAAMA,OAAQC,EAAd,EAAcA,GACVO,EAAW,CAACxK,EAAMwB,MAAM,GAAIqJ,EAAMb,EAAQC,GAAMC,IAAWC,OAC/DnK,EAAMU,SAAS,QAAS8J,IAaZ7J,MAAOX,EAAMwB,MAAM,GACnBsJ,SAA6B,UAAnB9K,EAAMwB,MAAM,GAL1B,SAOK8H,EAASjE,KAAI,SAAAkF,GAAC,OACX,cAAC,WAAD,CAAqB5J,MAAO4J,EAAErC,GAA9B,SACI,sBACI7H,UAAWF,EAAQuI,aACnBpI,MAAO,CACHkF,gBAAiB+E,EAAEP,OACnBxG,MAAO+G,EAAEN,IAAMC,IAAWC,OAJlC,SAOKY,YAAcR,EAAE3J,KAAMyI,EAAK2B,cARrBT,EAAErC,gBAkB5B+C,EAAc,SAACjL,GACxB,IAAQC,EAAMC,2BAAND,EACFE,EAAUX,IAEhB,EAA8ByC,mBAASjC,EAAMwB,MAAM,IAAnD,mBAAO0J,EAAP,KAAgBC,EAAhB,KAEAxB,qBACI,kBAAMwB,EAAWnL,EAAMwB,MAAM,MAE7B,CAACxB,EAAMwB,MAAM,KA6CjB,OACI,eAAC,OAAD,CAAMiJ,UAAU,MAAMC,gBAAc,EAApC,UACI,eAAC,WAAD,WACI,cAAC,eAAD,CAAc7D,QAAS5G,EAAE,mBACzB,sBAAKI,UAAWF,EAAQ+I,gBAAxB,UACI,uBACI3G,KAAK,QACL2F,GAAG,cACHvH,MAAOX,EAAMwB,MAAM,GACnBf,SAnDC,SAACwF,GAClB,IAAImF,EAAMnF,EAAMG,OAAOzF,MAEvBX,EAAMU,SAAS,QAAS,CAACoJ,IAASC,MAAO,QAASqB,EAAKpL,EAAMwB,MAAM,MAiDnDnB,UAAWF,EAAQ2I,YACnBxI,MAAO,CAAE+K,QAAS,KAEtB,uBAAOC,QAAQ,cAAf,SACI,cAAC,UAAD,CAAStI,MAAO/C,EAAE,kBAAmB,aAAW,gBAAhD,SACI,cAAC,SAAD,CACII,UAAWF,EAAQyI,OACnBtI,MAAO,CACHkF,gBAAiBxF,EAAMwB,MAAM,GAC7B+J,YAAavL,EAAMwB,MAAM,IAAM0I,IAAWC,OAE9C5J,QAAQ,YACRkK,UAAU,OAPd,SASK,aAKjB,cAAC,YAAD,CACIe,QAAO,OAACN,QAAD,IAACA,OAAD,EAACA,EAASO,MAAM,uBACvBnL,MAAO,CAAEV,MAAO,IAChBa,SApEE,SAACwF,GACf,IAAIyF,EAAMzF,EAAMG,OAAOzF,MACvB,GAAyC,OAArC+K,EAAID,MAAM,uBAGd,GAFAN,EAAWO,GAEY,UAAnB1L,EAAMwB,MAAM,GACZ,GAAuC,OAAnCkK,EAAID,MAAM,qBAA+B,CAEzC,IAAIjB,EAAW,CAACV,IAASC,MAAO,QAAS2B,EAAK1L,EAAMwB,MAAM,IAC1DxB,EAAMU,SAAS,QAAS8J,OAGrB,CAEH,IAAIA,EAAQ,CAAIV,IAASC,MAAO,SAApB,mBAAgC/J,EAAMwB,MAAMmJ,MAAM,KAC9D3K,EAAMU,SAAS,QAAS8J,QAK5B,GAAuC,OAAnCkB,EAAID,MAAM,qBAA+B,CAEzC,IAAIjB,EAAWxK,EAAMwB,MAAM6D,KAAI,SAACc,EAAKwF,GAAN,OAAuB,IAARA,EAAYD,EAAMvF,KAChEnG,EAAMU,SAAS,QAAS8J,KA8CpB7J,MAAK,OAAEuK,QAAF,IAAEA,OAAF,EAAEA,EAASU,mBAGxB,cAAC,UAAD,CAASrL,QAAQ,WACjB,eAAC,WAAD,WACI,cAAC,eAAD,CAAcsG,QAAS5G,EAAE,eACzB,eAAC,SAAD,CACI6G,QAAM,EACNxG,MAAO,CAAEV,MAAO,IAChBY,MAAOP,EAAE,aACTQ,SAhDC,SAACwF,GACd,IAAIuE,EAAW,CAACV,IAASC,MAAO,QAAS/J,EAAMwB,MAAM,GAAIyE,EAAMG,OAAOzF,OACtEX,EAAMU,SAAS,QAAS8J,IA+CZ7J,MAAOX,EAAMwB,MAAM,IAAM0I,IAAWC,MALxC,UAOI,wBAAQxJ,MAAM,OAAd,SAAsBV,EAAE,oBACxB,wBAAQU,MAAM,OAAd,SAAsBV,EAAE,8BAOtC4L,EAAiB,SAAC7L,GACpB,MAAoBE,2BAAZD,EAAR,EAAQA,EAAGoJ,EAAX,EAAWA,KACLlJ,EAAUX,IAEVsM,EAAQlF,mBACV,kBACImF,IAAS1G,KAAI,SAAA2G,GAAC,OACV,cAAC,WAAD,CAAqBrL,MAAOqL,EAAE9D,GAA9B,SACI,uBAAM7H,UAAWF,EAAQoI,SAAzB,UACI,cAAC0D,EAAD,CAAajE,KAAMgE,EAAEE,UACrB,+BAAOnB,YAAciB,EAAEpL,KAAMyI,EAAK2B,iBAH3BgB,EAAE9D,SAQzB,IAEJ,OACI,eAAC,WAAD,WACI,cAAC,eAAD,CAAcrB,QAAS5G,EAAE,iBACzB,cAAC,YAAD,CAAW2K,QAAM,EAACtK,MAAO,CAAEV,MAAO,KAAOe,MAAOX,EAAMW,MAAOF,SAAUT,EAAMS,SAA7E,SACKqL,QAMXK,EAAiB1M,sBAAW,kBAC9BC,uBAAa,CACT0M,IAAK,CACDhI,OAAQ,GACRT,YAAa,eAQzB,SAASsI,EAAYjM,GACjB,IAAQqJ,EAASnJ,2BAATmJ,KACFlJ,EAAUgM,IAEZE,EAAa,GAoBjB,OAjBIA,EADsB,IAAtBrM,EAAMgI,KAAKqC,OACErK,EAAMgI,KACd4D,cACAU,MAAM,IACNjH,KAAI,SAAAkH,GAAI,QAAMA,EAAKC,YAAY,IAAM,GAAK,QAAQzL,SAAS,IAAI6K,iBAEvD,CAAC,SAAShG,OACnB5F,EAAMgI,KACD4D,cACAU,MAAM,IACNjH,KAAI,SAAAkH,GAAI,QAAMA,EAAKC,YAAY,IAAM,GAAK,QAAQzL,SAAS,IAAI6K,iBACpE,SAKJ,CAACa,IAAaC,UAAWD,IAAaE,aAAapJ,SAAS8F,EAAKuD,WAA4C,OAAf5M,EAAMgI,OAAeqE,EAAa,CAAC,WAErF,IAAzCQ,UAAUC,SAASC,QAAQ,WAA4D,IAAzCF,UAAUC,SAASC,QAAQ,SAC5E,qBACIC,IAAKC,oBAAA,wBAA0CZ,EAAWxI,KAAK,KAA1D,QACLxD,UAAWF,EAAQiM,IACnBc,IAAG,kBAAalN,EAAMgI,QAI1B,+BAAOmF,OAAOC,cAAP,MAAAD,OAAM,YAAkBd,EAAWhH,KAAI,SAAAgI,GAAE,OAAIC,SAASD,EAAI,W,oBCxSnE7N,EAAYC,sBAAW,SAAA+B,GAAK,OAC9B9B,uBAAa,CACT6N,eAAe,aACXjJ,QAAS,OACTkJ,SAAU,SACVC,WAAYjM,EAAMkM,QAAQ,GAC1BC,cAAenM,EAAMkM,QAAQ,GAC7BhJ,YAAalD,EAAMkM,QAAQ,GAC3B/I,aAAcnD,EAAMkM,QAAQ,IAC3BlM,EAAMoM,YAAYC,KAAK,MAAQ,CAC5BrF,cAAe,WAGvBsF,YAAa,CACTC,SAAU,KAEdC,eAAgB,CACZC,SAAU,EACV9E,WAAY,EACZ7E,QAAS,OACTkE,cAAe,SACf5I,MAAO,KAGXsO,UAAW,CACPH,SAAU,KAEdI,cAAe,CACXC,eAAgB,UAEpBC,SAAU,CACNtF,SAAU,WACVvF,MAAOhC,EAAM8M,QAAQC,OAAOC,QAEhCC,cAAe,CACXnK,QAAS,SAEboK,iBAAkB,CACd5O,UAAW,SACXD,SAAU,GACV8I,QAAS,EACT8E,WAAY,EACZrJ,OAAQ,IAEZuK,iBAAkB,CACd7O,UAAW,SACXD,SAAU,GACV8I,QAAS,EACTgF,cAAe,EACfvJ,OAAQ,QAGZwK,YAAa,CACTC,UAAW,OACXvK,QAAS,QAEbwK,SAAU,CACN3K,aAAc,IACdC,OAAQ,GACRX,WAAY,OACZV,OAAQ,GAEZgM,UAAW,CACPpG,QAAS,QACT,WAAY,CACRrE,QAAS,QACTxE,UAAW,UAEf,uBAAwB,CACpBD,SAAU,QAEd,sBAAuB,CACnB4D,WAAY,gBAwCbuL,EA1BC,SAAChP,GACb,IAAQC,EAAMC,2BAAND,EACFE,EAAUX,IAEhB,OACI,eAAC,SAAD,CAAQuE,KAAM/D,EAAM+D,KAAME,QAASjE,EAAMiE,QAAzC,UACI,cAAC,cAAD,UAAchE,EAAE,kBAChB,eAAC,gBAAD,CAAeI,UAAWF,EAAQoN,eAAlC,UACI,eAAC,OAAD,CAAM9C,UAAU,MAAMC,gBAAc,EAACrK,UAAWF,EAAQ2N,YAAxD,UACI,cAAC,EAAD,CAAetM,MAAOxB,EAAMwB,MAAOkE,SAAU1F,EAAM0F,SAAUhF,SAAUV,EAAMU,WAC7E,cAAC,UAAD,IACA,cAAC,EAAD,CAAeA,SAAUV,EAAMU,cAEnC,qBAAKL,UAAWF,EAAQ6N,eAAxB,SACI,cAAC,EAAD,CAAexM,MAAOxB,EAAMwB,MAAOd,SAAUV,EAAMU,gBAG3D,cAAC,gBAAD,UACI,cAAC,SAAD,CAAQuC,QAASjD,EAAMiE,QAAST,MAAM,UAAtC,SACKvD,EAAE,uBASjBgP,EAAgB,SAACjP,GACnB,IAAMG,EAAUX,IAEV0P,EAAa,SAACvO,EAAe0B,GAC/B,IAAI8M,EAAUnP,EAAM0F,SAASL,KAAI,SAACc,EAAKwF,GAAN,OAAeA,IAAQtJ,EAAQ1B,EAAQwF,KACxEnG,EAAMU,SAAS,OAAQyO,IAG3B,OACI,cAAC,WAAD,CAAU7O,MAAO,CAAE8N,eAAgB,UAAnC,SACI,eAAC,QAAD,CAAO/N,UAAWF,EAAQ+N,UAAW5N,MAAO,CAAEkF,gBAAiBxF,EAAMwB,MAAM,IAA3E,UACI,cAAC,OAAD,CAAMnB,UAAWF,EAAQkO,SAAzB,kBACA,cAAC,YAAD,CACI1N,MAAOX,EAAM0F,SAAS,GACtBvF,QAAS,CACLiP,KAAMjP,EAAQsO,cACdY,MAAOlP,EAAQuO,kBAEnBpO,MAAO,CAAEkD,MAAOxD,EAAMwB,MAAM,IAAM0I,IAAWC,OAC7C1J,SAAU,SAAAqH,GAAC,OAAIoH,EAAWpH,EAAE1B,OAAOzF,MAAO,IAC1CE,WAAS,IAEb,cAAC,YAAD,CACIF,MAAOX,EAAM0F,SAAS,GACtBvF,QAAS,CACLiP,KAAMjP,EAAQsO,cACdY,MAAOlP,EAAQwO,kBAEnBrO,MAAO,CAAEkD,MAAOxD,EAAMwB,MAAM,IAAM0I,IAAWC,OAC7C1J,SAAU,SAAAqH,GAAC,OAAIoH,EAAWpH,EAAE1B,OAAOzF,MAAO,YAOxD2O,EAAgB,SAACtP,GACnB,IAAQC,EAAMC,2BAAND,EACFE,EAAUX,IAEVgC,EAAQH,uBAAY,SAACC,GAAD,OAAsBA,EAAMG,MAAMD,SACtDkE,EAAWrE,uBAAY,SAACC,GAAD,OAAsBA,EAAMG,MAAM8N,aACvD9N,EAAUC,qBAAWC,KAArBF,MAEF+N,EAAW5I,mBACb,kBACI,IAAI6I,IACArH,OAAOsH,OAAOjO,EAAMK,UACf6N,QACG,SAACC,EAAD,GAAwB,IACZnN,EADW,EAAfT,SACIS,KACR,OAAOmN,EAAIhK,OAAJ,MAAAgK,EAAG,YAAWnN,MAEzB,CAAC,GAAD,mBAAKjB,GAAL,YAAekE,MAElBL,KAAI,SAAAc,GAAG,OAAI0J,KAAKC,UAAU3J,MAC1B4J,aAGb,IAGEC,EAAQpJ,mBACV,kBACI,YAAI4I,GAAUnK,KAAI,SAAC4K,EAAGrN,GAClB,IAAMH,EAAwBoN,KAAKK,MAAMD,GACnCzP,EAAQiC,EAAKkI,MAAM,GAAGtF,KAAI,SAAC8K,EAAKvN,GAAN,OAC5B,sBAActC,MAAO,CAAEkD,MAAOf,EAAK,IAAnC,SACK0N,GADMvN,MAKf,OACI,cAAC,OAAD,CAEIK,QAAS,WACLjD,EAAMU,SAAS,QAAS+B,EAAKkI,MAAM,EAAG,IACtC3K,EAAMU,SAAS,OAAQ+B,EAAKkI,MAAM,KAEtCrK,MAAO,CAAEkF,gBAAiB/C,EAAK,IAC/BpC,UAAWF,EAAQ2O,SACnB3O,QAAS,CAAEK,MAAOL,EAAQ4O,WACpBvO,SARDoC,QAarB,IAGJ,OACI,cAAC,WAAD,UACI,cAAC,eAAD,CACIiE,QAAS5G,EAAE,iBACXmQ,UAAWJ,EACXK,yBAA0B,CAAE5F,UAAW,OACvCtK,QAAS,CAAEiQ,UAAWjQ,EAAQyO,kBAMxC0B,EAAgB,SAACtQ,GACnB,IAAQC,EAAMC,2BAAND,EACR,EAAgCgC,mBAA4B,UAAnBjC,EAAMwB,MAAM,GAAiB,EAAI,GAA1E,mBAAO+O,EAAP,KAAiBC,EAAjB,KAEMC,EACF,eAAC,OAAD,CACI9P,MAAO4P,EACPG,eAAe,UACfC,UAAU,UACVlQ,SAAU,SAACyG,EAAGf,GAAJ,OAAYqK,EAAYrK,IAClC5F,QAAQ,YACRqQ,cAAc,MANlB,UAQI,cAAC,MAAD,CAAKpQ,MAAOP,EAAE,kBAAmBK,MAAO,CAAEuI,SAAU,WACpD,cAAC,MAAD,CAAKrI,MAAOP,EAAE,iBAAkBK,MAAO,CAAEuI,SAAU,cAIrDgI,EAAS,SAAAlF,GACX,OAAQA,GACJ,KAAK,EACD,OAAO,cAAC,EAAD,eAAkB3L,IAC7B,KAAK,EACD,OAAO,cAAC,EAAD,eAAiBA,IAC5B,QACI,OAAO,8BAPJ,CASZuQ,GAEH,OACI,qCACKE,EACAI,MClREC","file":"static/js/panelStationsInterchange.67516251.chunk.js","sourcesContent":["import * as React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ListItem, ListItemIcon, TextField, makeStyles, createStyles } from '@material-ui/core';\nimport { Name } from \"../../../constants/constants\";\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        listItemIcon: {\n            width: '1em',\n            fontSize: '1.5rem',\n            textAlign: 'center',\n        },\n    })\n);\n\ninterface Props {\n    onUpdate: (index: number) => (event: React.ChangeEvent<HTMLInputElement>) => void;\n    name: Name;\n}\n\nconst NameListItems = (props: Props) => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n\n    return React.useMemo(\n        () => (\n            <>\n                <ListItem>\n                    <ListItemIcon>\n                        <span className={classes.listItemIcon}>文</span>\n                    </ListItemIcon>\n                    <TextField\n                        style={{ width: '100%' }}\n                        variant=\"outlined\"\n                        label={t('stations.edit.name.nameZH')}\n                        onChange={props.onUpdate(0)}\n                        value={props.name[0]}\n                        autoFocus\n                    />\n                </ListItem>\n                <ListItem>\n                    <ListItemIcon>\n                        <span className={classes.listItemIcon}>A</span>\n                    </ListItemIcon>\n                    <TextField\n                        style={{ width: '100%' }}\n                        variant=\"outlined\"\n                        label={t('stations.edit.name.nameEN')}\n                        onChange={props.onUpdate(1)}\n                        value={props.name[1]}\n                        helperText={t('stations.edit.name.nameENHelper')}\n                    />\n                </ListItem>\n            </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [props.name.toString()]\n    );\n};\n\nexport default NameListItems;\n","import React, { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n    Button,\n    Chip,\n    createStyles,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    Icon,\n    IconButton,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    makeStyles,\n    Select,\n    Switch,\n    Tooltip,\n} from '@material-ui/core';\nimport { ParamContext } from '../../../context';\nimport ColourDialog from '../../colour-diag';\nimport NameListItems from './name-list-items';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../../../redux';\nimport { InterchangeInfo, MonoColour, Name, RmgStyle, ShortDirection, Theme } from '../../../constants/constants';\nimport {\n    addInterchange,\n    removeInterchange,\n    updateInterchange,\n    updateStationOsiName, updateStationPaidArea,\n    updateStationTickDirection\n} from \"../../../redux/param/action\";\n\nconst StationEditInterchangeTab = (props: { stnId: string }) => {\n    const { t } = useTranslation();\n    const reduxDispatch = useDispatch();\n\n    const rmgStyle = useSelector((store: RootState) => store.app.rmgStyle);\n    const theme = useSelector((store: RootState) => store.param.theme);\n    const { param, dispatch } = useContext(ParamContext);\n    const stnTrans = param.stn_list[props.stnId].transfer;\n\n    const [osiNameDialogOpened, setOsiNameDialogOpened] = React.useState(false);\n\n    const addClick = (index: number) => {\n        let newInfo: InterchangeInfo = [...theme, '轉綫', 'Line'];\n        dispatch({\n            type: 'ADD_STATION_INTERCHANGE_INFO',\n            stnId: props.stnId,\n            setIdx: index,\n            info: newInfo,\n        });\n        reduxDispatch(addInterchange(props.stnId, index, newInfo));\n    };\n\n    const deleteClick = (index: number, i: number) => {\n        dispatch({\n            type: 'REMOVE_STATION_INTERCHANGE_INFO',\n            stnId: props.stnId,\n            setIdx: index,\n            intIdx: i,\n        });\n        reduxDispatch(removeInterchange(props.stnId, index, i));\n    };\n\n    return (\n        <List>\n            <ListItem>\n                <ListItemText>\n                    <h3 style={{ margin: 0 }}>{t('stations.edit.interchange.within')}</h3>\n                </ListItemText>\n                <ListItemSecondaryAction>\n                    <Tooltip title={t('stations.edit.interchange.add')} aria-label=\"add\">\n                        <IconButton onClick={() => addClick(0)}>\n                            <Icon>add_circle</Icon>\n                        </IconButton>\n                    </Tooltip>\n                </ListItemSecondaryAction>\n            </ListItem>\n            <ListItem>\n                <InterchangeChipSet stnId={props.stnId} setIndex={0} onDelete={i => deleteClick(0, i)} />\n            </ListItem>\n            {[RmgStyle.MTR, RmgStyle.SHMetro].includes(rmgStyle || '') && (\n                <>\n                    <Divider />\n                    <ListItem>\n                        <ListItemText>\n                            <h3 style={{ margin: 0 }}>{t('stations.edit.interchange.osi')}</h3>\n                        </ListItemText>\n                        <ListItemSecondaryAction>\n                            <Button\n                                variant=\"outlined\"\n                                color=\"primary\"\n                                style={{ lineHeight: '1rem', whiteSpace: 'pre', marginRight: 5 }}\n                                onClick={() => setOsiNameDialogOpened(true)}\n                            >\n                                {stnTrans.osi_names[0] ? stnTrans.osi_names[0].join('\\r\\n') : '車站名\\r\\nStn Name'}\n                            </Button>\n                            <OSINameDialog\n                                open={osiNameDialogOpened}\n                                osiName={stnTrans.osi_names[0] || ['', '']}\n                                stnId={props.stnId}\n                                onClose={() => setOsiNameDialogOpened(false)}\n                            />\n                            <Tooltip title={t('stations.edit.interchange.add')} aria-label=\"add\">\n                                <IconButton onClick={() => addClick(1)}>\n                                    <Icon>add_circle</Icon>\n                                </IconButton>\n                            </Tooltip>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                    <ListItem>\n                        <InterchangeChipSet stnId={props.stnId} setIndex={1} onDelete={i => deleteClick(1, i)} />\n                    </ListItem>\n                    <ListItem>\n                        <span>{t('stations.edit.interchange.note')}</span>\n                    </ListItem>\n                </>\n            )}\n            {rmgStyle === RmgStyle.MTR && <InterchangeMore stnId={props.stnId} />}\n        </List>\n    );\n};\n\nexport default StationEditInterchangeTab;\n\nconst intChipSetStyles = makeStyles(() =>\n    createStyles({\n        intChip: {\n            borderRadius: 4.5,\n            height: 40,\n            lineHeight: '1rem',\n            margin: 2,\n        },\n        intChipText: {\n            display: 'block',\n            textAlign: 'center' as 'center',\n        },\n        intChipTextZH: {\n            fontSize: 18,\n            lineHeight: '1.2rem',\n        },\n        intChipTextEN: {\n            fontSize: '.75rem',\n            lineHeight: '.9rem',\n            whiteSpace: 'pre-wrap' as 'pre-wrap',\n        },\n        intChipLabel: {\n            paddingLeft: 6,\n            paddingRight: 6,\n        },\n        intChipDeleteIcon: {\n            marginLeft: -3,\n        },\n    })\n);\n\ninterface InterchangeChipSetProps {\n    stnId: string;\n    setIndex: number;\n    onDelete: (i: number) => void;\n}\n\nconst InterchangeChipSet = (props: InterchangeChipSetProps) => {\n    const classes = intChipSetStyles();\n    const reduxDispatch = useDispatch();\n\n    const { param, dispatch } = React.useContext(ParamContext);\n    const intInfos = param.stn_list[props.stnId].transfer.info[props.setIndex];\n\n    const [chipSelected, setChipSelected] = React.useState(-1);\n    const [nameDialogOpened, setNameDialogOpened] = React.useState(false);\n\n    const handleClick = (index: number) => {\n        setChipSelected(index);\n        setNameDialogOpened(true);\n    };\n\n    const nameDialogUpdate = (key: string, value: any) => {\n        if (key === 'theme') {\n            const newInfo = (value as string[]).concat(Array(2)) as InterchangeInfo;\n            dispatch({\n                type: 'UPDATE_STATION_INTERCHANGE_INFO',\n                stnId: props.stnId,\n                setIdx: props.setIndex,\n                intIdx: chipSelected,\n                info: newInfo,\n            });\n            reduxDispatch(updateInterchange(props.stnId, props.setIndex, chipSelected, newInfo));\n        }\n        if (key === 'name') {\n            const newInfo = Array(4).concat(value) as InterchangeInfo;\n            dispatch({\n                type: 'UPDATE_STATION_INTERCHANGE_INFO',\n                stnId: props.stnId,\n                setIdx: props.setIndex,\n                intIdx: chipSelected,\n                info: newInfo,\n            });\n            reduxDispatch(updateInterchange(props.stnId, props.setIndex, chipSelected, newInfo));\n        }\n    };\n\n    const intChips = intInfos?.map((intInfo, i) => {\n        let label = (\n            <span style={{ color: intInfo[3] }}>\n                <span className={`${classes.intChipText} ${classes.intChipTextZH}`}>{intInfo[4]}</span>\n                <span className={`${classes.intChipText} ${classes.intChipTextEN}`}>{intInfo[5]}</span>\n            </span>\n        );\n        return (\n            <Chip\n                key={i}\n                label={label}\n                className={classes.intChip}\n                classes={{\n                    label: classes.intChipLabel,\n                    deleteIcon: classes.intChipDeleteIcon,\n                }}\n                style={{ backgroundColor: intInfo[2] }}\n                onDelete={() => props.onDelete(i)}\n                onClick={() => handleClick(i)}\n            />\n        );\n    });\n\n    return (\n        <div>\n            {intChips}\n\n            <ColourDialog\n                open={nameDialogOpened}\n                theme={\n                    intInfos?.[chipSelected] === undefined\n                        ? (([] as any) as Theme)\n                        : [\n                              intInfos[chipSelected][0],\n                              intInfos[chipSelected][1],\n                              intInfos[chipSelected][2],\n                              intInfos[chipSelected][3] as MonoColour,\n                          ]\n                }\n                lineName={\n                    intInfos?.[chipSelected] === undefined\n                        ? ['', '']\n                        : [intInfos[chipSelected][4], intInfos[chipSelected][5]]\n                }\n                onUpdate={nameDialogUpdate}\n                onClose={() => setNameDialogOpened(false)}\n            />\n        </div>\n    );\n};\n\ninterface OSINameDialogProps {\n    open: boolean;\n    stnId: string;\n    osiName: Name;\n    onClose: () => void;\n}\n\nconst OSINameDialog = React.memo(\n    (props: OSINameDialogProps) => {\n        const { t } = useTranslation();\n        const reduxDispatch = useDispatch();\n\n        const { dispatch } = useContext(ParamContext);\n\n        const handleUpdate = (index: number) => (event: React.ChangeEvent<HTMLInputElement>) => {\n            let newOSIName = props.osiName.map((val, i) => (i === index ? event.target.value : val)) as Name;\n            dispatch({ type: 'UPDATE_STATION_OSI_NAME', stnId: props.stnId, name: newOSIName });\n            reduxDispatch(updateStationOsiName(props.stnId, newOSIName));\n        };\n\n        return (\n            <Dialog open={props.open} onClose={props.onClose}>\n                <DialogTitle>{t('stations.edit.interchange.osiName')}</DialogTitle>\n                <DialogContent dividers>\n                    <List>\n                        <NameListItems onUpdate={handleUpdate} name={props.osiName} />\n                    </List>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={props.onClose} color=\"primary\" autoFocus>\n                        {t('dialog.done')}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    },\n    (prevProps, nextProps) =>\n        prevProps.open === nextProps.open && prevProps.osiName.toString() === nextProps.osiName.toString()\n);\n\nconst InterchangeMore = (props: { stnId: string }) => {\n    const { t } = useTranslation();\n    const reduxDispatch = useDispatch();\n\n    const { param, dispatch } = React.useContext(ParamContext);\n    const stnTrans = param.stn_list[props.stnId].transfer;\n\n    const tickDirecChange = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\n        let direction = event.target.value;\n        if (direction === 'l' || direction === 'r') {\n            dispatch({\n                type: 'UPDATE_STATION_TICK_DIREC',\n                stnId: props.stnId,\n                direction,\n            });\n            reduxDispatch(updateStationTickDirection(props.stnId, direction as ShortDirection));\n        }\n    };\n\n    return React.useMemo(\n        () => (\n            <>\n                <Divider />\n                <ListItem>\n                    <ListItemText>\n                        <h3 style={{ margin: 0 }}>{t('stations.edit.interchange.settings')}</h3>\n                    </ListItemText>\n                </ListItem>\n                <ListItem>\n                    <ListItemIcon>\n                        <Icon>format_textdirection_l_to_r</Icon>\n                    </ListItemIcon>\n                    <ListItemText primary={t('stations.edit.interchange.tickDirec.label')} />\n                    <ListItemSecondaryAction>\n                        <Select native value={stnTrans.tick_direc} onChange={tickDirecChange}>\n                            {['l', 'r'].map(d => (\n                                <option key={d} value={d}>\n                                    {t('stations.edit.interchange.tickDirec.' + d)}\n                                </option>\n                            ))}\n                        </Select>\n                    </ListItemSecondaryAction>\n                </ListItem>\n                <ListItem>\n                    <ListItemIcon>\n                        <Icon>attach_money</Icon>\n                    </ListItemIcon>\n                    <ListItemText primary={t('stations.edit.interchange.paidArea')} />\n                    <ListItemSecondaryAction>\n                        <Switch\n                            color=\"primary\"\n                            edge=\"end\"\n                            onChange={(_, checked) => {\n                                dispatch({\n                                    type: 'UPDATE_STATION_PAID_AREA',\n                                    stnId: props.stnId,\n                                    isPaid: checked,\n                                });\n                                reduxDispatch(updateStationPaidArea(props.stnId, checked));\n                            }}\n                            checked={stnTrans.paid_area}\n                        />\n                    </ListItemSecondaryAction>\n                </ListItem>\n            </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [props.stnId, stnTrans.tick_direc, stnTrans.paid_area]\n    );\n};\n","var map = {\n\t\"./README.md\": [\n\t\t82,\n\t\t75\n\t],\n\t\"./barcelona\": [\n\t\t38,\n\t\t1\n\t],\n\t\"./barcelona.ts\": [\n\t\t38,\n\t\t1\n\t],\n\t\"./beijing\": [\n\t\t39,\n\t\t12\n\t],\n\t\"./beijing.ts\": [\n\t\t39,\n\t\t12\n\t],\n\t\"./changsha\": [\n\t\t40,\n\t\t23\n\t],\n\t\"./changsha.ts\": [\n\t\t40,\n\t\t23\n\t],\n\t\"./chengdu\": [\n\t\t41,\n\t\t34\n\t],\n\t\"./chengdu.ts\": [\n\t\t41,\n\t\t34\n\t],\n\t\"./chongqing\": [\n\t\t42,\n\t\t36\n\t],\n\t\"./chongqing.ts\": [\n\t\t42,\n\t\t36\n\t],\n\t\"./dongguan\": [\n\t\t43,\n\t\t2\n\t],\n\t\"./dongguan.ts\": [\n\t\t43,\n\t\t2\n\t],\n\t\"./edinburgh\": [\n\t\t44,\n\t\t3\n\t],\n\t\"./edinburgh.ts\": [\n\t\t44,\n\t\t3\n\t],\n\t\"./foshan\": [\n\t\t45,\n\t\t4\n\t],\n\t\"./foshan.ts\": [\n\t\t45,\n\t\t4\n\t],\n\t\"./glasgow\": [\n\t\t46,\n\t\t5\n\t],\n\t\"./glasgow.ts\": [\n\t\t46,\n\t\t5\n\t],\n\t\"./guangzhou\": [\n\t\t47,\n\t\t6\n\t],\n\t\"./guangzhou.ts\": [\n\t\t47,\n\t\t6\n\t],\n\t\"./hangzhou\": [\n\t\t48,\n\t\t7\n\t],\n\t\"./hangzhou.ts\": [\n\t\t48,\n\t\t7\n\t],\n\t\"./hongkong\": [\n\t\t49,\n\t\t8\n\t],\n\t\"./hongkong.ts\": [\n\t\t49,\n\t\t8\n\t],\n\t\"./kansai\": [\n\t\t50,\n\t\t9\n\t],\n\t\"./kansai.ts\": [\n\t\t50,\n\t\t9\n\t],\n\t\"./kaohsiung\": [\n\t\t51,\n\t\t10\n\t],\n\t\"./kaohsiung.ts\": [\n\t\t51,\n\t\t10\n\t],\n\t\"./london\": [\n\t\t52,\n\t\t11\n\t],\n\t\"./london.ts\": [\n\t\t52,\n\t\t11\n\t],\n\t\"./macao\": [\n\t\t53,\n\t\t13\n\t],\n\t\"./macao.ts\": [\n\t\t53,\n\t\t13\n\t],\n\t\"./madrid\": [\n\t\t54,\n\t\t14\n\t],\n\t\"./madrid.ts\": [\n\t\t54,\n\t\t14\n\t],\n\t\"./nanjing\": [\n\t\t55,\n\t\t15\n\t],\n\t\"./nanjing.ts\": [\n\t\t55,\n\t\t15\n\t],\n\t\"./newtaipei\": [\n\t\t56,\n\t\t16\n\t],\n\t\"./newtaipei.ts\": [\n\t\t56,\n\t\t16\n\t],\n\t\"./osaka\": [\n\t\t57,\n\t\t17\n\t],\n\t\"./osaka.ts\": [\n\t\t57,\n\t\t17\n\t],\n\t\"./oslo\": [\n\t\t58,\n\t\t18\n\t],\n\t\"./oslo.ts\": [\n\t\t58,\n\t\t18\n\t],\n\t\"./other\": [\n\t\t59,\n\t\t19\n\t],\n\t\"./other.ts\": [\n\t\t59,\n\t\t19\n\t],\n\t\"./paris\": [\n\t\t60,\n\t\t20\n\t],\n\t\"./paris.ts\": [\n\t\t60,\n\t\t20\n\t],\n\t\"./qingdao\": [\n\t\t61,\n\t\t21\n\t],\n\t\"./qingdao.ts\": [\n\t\t61,\n\t\t21\n\t],\n\t\"./sanfrancisco\": [\n\t\t62,\n\t\t22\n\t],\n\t\"./sanfrancisco.ts\": [\n\t\t62,\n\t\t22\n\t],\n\t\"./seoul\": [\n\t\t63,\n\t\t24\n\t],\n\t\"./seoul.ts\": [\n\t\t63,\n\t\t24\n\t],\n\t\"./shanghai\": [\n\t\t64,\n\t\t25\n\t],\n\t\"./shanghai.ts\": [\n\t\t64,\n\t\t25\n\t],\n\t\"./shenzhen\": [\n\t\t65,\n\t\t26\n\t],\n\t\"./shenzhen.ts\": [\n\t\t65,\n\t\t26\n\t],\n\t\"./singapore\": [\n\t\t66,\n\t\t27\n\t],\n\t\"./singapore.ts\": [\n\t\t66,\n\t\t27\n\t],\n\t\"./stockholm\": [\n\t\t67,\n\t\t28\n\t],\n\t\"./stockholm.ts\": [\n\t\t67,\n\t\t28\n\t],\n\t\"./taipei\": [\n\t\t68,\n\t\t29\n\t],\n\t\"./taipei.ts\": [\n\t\t68,\n\t\t29\n\t],\n\t\"./tianjin\": [\n\t\t69,\n\t\t30\n\t],\n\t\"./tianjin.ts\": [\n\t\t69,\n\t\t30\n\t],\n\t\"./tokyo\": [\n\t\t70,\n\t\t31\n\t],\n\t\"./tokyo.ts\": [\n\t\t70,\n\t\t31\n\t],\n\t\"./toronto\": [\n\t\t71,\n\t\t32\n\t],\n\t\"./toronto.ts\": [\n\t\t71,\n\t\t32\n\t],\n\t\"./tyneandwear\": [\n\t\t72,\n\t\t33\n\t],\n\t\"./tyneandwear.ts\": [\n\t\t72,\n\t\t33\n\t],\n\t\"./xian\": [\n\t\t73,\n\t\t35\n\t],\n\t\"./xian.ts\": [\n\t\t73,\n\t\t35\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 78;\nmodule.exports = webpackAsyncContext;","import React, { useEffect, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n    Button,\n    createStyles,\n    Divider,\n    List,\n    ListItem,\n    ListItemText,\n    makeStyles,\n    MenuItem,\n    Select,\n    TextField,\n    Tooltip,\n} from '@material-ui/core';\nimport { getTransText2 } from '../../utils';\nimport { CityCode, cityList } from '../../constants/city-config';\nimport { ColourHex, LanguageCode, MonoColour, PaletteEntry, Theme } from '../../constants/constants';\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        cityItem: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n        },\n        menuItemSpan: {\n            padding: '0 .3rem',\n        },\n        button: {\n            borderRadius: '50%',\n            height: 24,\n            width: 24,\n            minWidth: 0,\n            marginRight: 8,\n            // border: 'solid',\n            padding: 0,\n        },\n        inputColour: {\n            position: 'absolute',\n            width: 0,\n            height: 0,\n            left: 27,\n            top: 32,\n        },\n        buttonContainer: {\n            display: 'flex',\n            flexShrink: 1,\n        },\n    })\n);\n\nconst useLineList = (theme: Theme) => {\n    const [list, setList] = React.useState([] as PaletteEntry[]);\n\n    const listPromise = theme[0]\n        ? import(/* webpackChunkName: \"colours\" */ `../../constants/colours/${theme[0]}`).then(\n              module => module.default as PaletteEntry[]\n          )\n        : Promise.resolve([] as PaletteEntry[]);\n\n    useEffect(\n        () => {\n            if (typeof theme[0] === 'undefined') {\n                return;\n            }\n            (async () => {\n                const data = await listPromise;\n                setList(theme[0] === CityCode.Other ? [{ ...data[0], colour: theme[2], fg: theme[3] || MonoColour.white }] : data);\n            })();\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [theme.toString()]\n    );\n\n    return list;\n};\n\ninterface ColourDialogProps {\n    theme: Theme;\n    onUpdate: (key: string, value: any) => void;\n}\n\nexport const PalettePanel = (props: ColourDialogProps) => {\n    const { t, i18n } = useTranslation();\n    const classes = useStyles();\n\n    const cityChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n        props.onUpdate('theme', [event.target.value, ...props.theme.slice(1)]);\n\n    // Hook for fetching line list of current city\n    const lineList = useLineList(props.theme);\n\n    // Hook for updating props.theme when lineList changed\n    useEffect(\n        () => {\n            if (lineList.length === 0) return; // initialising, ignore\n            if (lineList.filter(l => l.id === props.theme[1]).length) return; // current city, ignore\n            let { id, colour, fg } = lineList[0];\n            let newTheme = [props.theme[0], id, colour, fg || MonoColour.white];\n            props.onUpdate('theme', newTheme);\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [lineList]\n    );\n\n    const lineChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        let line = event.target.value;\n        let { colour, fg } = lineList.filter(l => l.id === line)[0];\n        let newTheme = [props.theme[0], line, colour, fg || MonoColour.white];\n        props.onUpdate('theme', newTheme);\n    };\n\n    return (\n        <List component=\"div\" disablePadding>\n            <CitySelectItem value={props.theme[0]} onChange={cityChange} />\n            <Divider variant=\"middle\" />\n            <ListItem>\n                <ListItemText primary={t('colour.line')} />\n                <TextField\n                    select\n                    style={{ width: 166 }}\n                    onChange={lineChange}\n                    value={props.theme[1]}\n                    disabled={props.theme[0] === 'other'}\n                >\n                    {lineList.map(l => (\n                        <MenuItem key={l.id} value={l.id}>\n                            <span\n                                className={classes.menuItemSpan}\n                                style={{\n                                    backgroundColor: l.colour,\n                                    color: l.fg || MonoColour.white,\n                                }}\n                            >\n                                {getTransText2(l.name, i18n.languages as LanguageCode[])}\n                            </span>\n                        </MenuItem>\n                    ))}\n                </TextField>\n            </ListItem>\n        </List>\n    );\n};\n\nexport const CustomPanel = (props: ColourDialogProps) => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n\n    const [hexTemp, setHexTemp] = useState(props.theme[2]);\n\n    useEffect(\n        () => setHexTemp(props.theme[2]),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [props.theme[2]]\n    );\n\n    const colourChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        let rgb = event.target.value;\n        // setHexTemp(rgb);\n        props.onUpdate('theme', [CityCode.Other, 'other', rgb, props.theme[3]]);\n    };\n\n    const hexChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        let hex = event.target.value;\n        if (hex.match(/^#[0-9a-fA-F]{0,6}$/) === null) return;\n        setHexTemp(hex as ColourHex);\n\n        if (props.theme[0] !== 'other') {\n            if (hex.match(/^#[0-9a-fA-f]{6}$/) !== null) {\n                // if hex valid, modify theme city and props.hex\n                let newTheme = [CityCode.Other, 'other', hex, props.theme[3]];\n                props.onUpdate('theme', newTheme);\n                // then lineList will be updated by hook (along with selection)\n                // then line will be updated by hook\n            } else {\n                // if hex not valid, modify theme city only\n                let newTheme = [CityCode.Other, 'other', ...props.theme.slice(2)];\n                props.onUpdate('theme', newTheme);\n                // then lineList will be updated by hook (along with selection)\n                // then line will be updated by hook\n            }\n        } else {\n            if (hex.match(/^#[0-9a-fA-F]{6}$/) !== null) {\n                // if hex valid, modify props.hex\n                let newTheme = props.theme.map((val, idx) => (idx === 2 ? hex : val));\n                props.onUpdate('theme', newTheme);\n                // then lineList will be updated by hook (actually only hex is changed)\n            } else {\n                // if hex not valid, do nothing\n            }\n        }\n    };\n\n    const fgChange = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\n        let newTheme = [CityCode.Other, 'other', props.theme[2], event.target.value];\n        props.onUpdate('theme', newTheme);\n    };\n\n    return (\n        <List component=\"div\" disablePadding>\n            <ListItem>\n                <ListItemText primary={t('colour.colour')} />\n                <div className={classes.buttonContainer}>\n                    <input\n                        type=\"color\"\n                        id=\"input-color\"\n                        value={props.theme[2]}\n                        onChange={colourChange}\n                        className={classes.inputColour}\n                        style={{ opacity: 0 }}\n                    />\n                    <label htmlFor=\"input-color\">\n                        <Tooltip title={t('colour.tooltip')} aria-label=\"colour picker\">\n                            <Button\n                                className={classes.button}\n                                style={{\n                                    backgroundColor: props.theme[2],\n                                    borderColor: props.theme[3] || MonoColour.white,\n                                }}\n                                variant=\"contained\"\n                                component=\"span\"\n                            >\n                                {' '}\n                            </Button>\n                        </Tooltip>\n                    </label>\n                </div>\n                <TextField\n                    error={!hexTemp?.match(/^#[0-9a-fA-F]{6}$/g)}\n                    style={{ width: 85 }}\n                    onChange={hexChange}\n                    value={hexTemp?.toUpperCase()}\n                />\n            </ListItem>\n            <Divider variant=\"middle\" />\n            <ListItem>\n                <ListItemText primary={t('colour.fg')} />\n                <Select\n                    native\n                    style={{ width: 85 }}\n                    label={t('colour.fg')}\n                    onChange={fgChange}\n                    value={props.theme[3] || MonoColour.white}\n                >\n                    <option value=\"#fff\">{t('colour.fgWhite')}</option>\n                    <option value=\"#000\">{t('colour.fgBlack')}</option>\n                </Select>\n            </ListItem>\n        </List>\n    );\n};\n\nconst CitySelectItem = (props: { value: string; onChange: (event: React.ChangeEvent<HTMLInputElement>) => void }) => {\n    const { t, i18n } = useTranslation();\n    const classes = useStyles();\n\n    const items = useMemo(\n        () =>\n            cityList.map(c => (\n                <MenuItem key={c.id} value={c.id}>\n                    <span className={classes.cityItem}>\n                        <CountryFlag code={c.country} />\n                        <span>{getTransText2(c.name, i18n.languages as LanguageCode[])}</span>\n                    </span>\n                </MenuItem>\n            )),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        []\n    );\n    return (\n        <ListItem>\n            <ListItemText primary={t('colour.city')} />\n            <TextField select style={{ width: 166 }} value={props.value} onChange={props.onChange}>\n                {items}\n            </TextField>\n        </ListItem>\n    );\n};\n\nconst useEmojiStyles = makeStyles(() =>\n    createStyles({\n        img: {\n            height: 20,\n            marginRight: '0.2rem',\n        },\n    })\n);\n\n/**\n * Convert ISO 3166 alpha-2 country code (followed by BS 6879 UK subdivision code, if applicable) to flag Emoji. For Windows platform, an `img` element with image source from OpenMoji is returned.\n */\nfunction CountryFlag(props: { code: string }) {\n    const { i18n } = useTranslation();\n    const classes = useEmojiStyles();\n\n    let codePoints = [] as string[];\n\n    if (props.code.length === 2) {\n        codePoints = props.code\n            .toUpperCase()\n            .split('')\n            .map(char => ((char.codePointAt(0) || 0) + 127397).toString(16).toUpperCase());\n    } else {\n        codePoints = ['1F3F4'].concat(\n            props.code\n                .toUpperCase()\n                .split('')\n                .map(char => ((char.codePointAt(0) || 0) + 917536).toString(16).toUpperCase()),\n            'E007F'\n        );\n    }\n\n    // special case for simplified Chinese\n    if ([LanguageCode.ChineseCN, LanguageCode.ChineseSimp].includes(i18n.language as LanguageCode) && props.code === 'TW') codePoints = ['1F3F4'];\n\n    return navigator.platform.indexOf('Win32') !== -1 || navigator.platform.indexOf('Win64') !== -1 ? (\n        <img\n            src={process.env.PUBLIC_URL + `/images/flags/${codePoints.join('-')}.svg`}\n            className={classes.img}\n            alt={`Flag of ${props.code}`}\n        />\n    ) : (\n        // <img src={process.env.PUBLIC_URL + `/images/flags/${codePoints.join('-')}.svg`} className={classes.img} />\n        <span>{String.fromCodePoint(...codePoints.map(cp => parseInt(cp, 16)))}</span>\n    );\n}\n","import React, { useContext, useMemo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport {\n    Button,\n    Chip,\n    createStyles,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    Icon,\n    InputBase,\n    List,\n    ListItem,\n    ListItemText,\n    makeStyles,\n    Paper,\n    Tab,\n    Tabs,\n} from '@material-ui/core';\nimport { CustomPanel, PalettePanel } from './theme-items';\nimport { ParamContext } from '../../context';\nimport { InterchangeInfo, MonoColour, Name, Theme } from '../../constants/constants';\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"../../redux\";\n\nconst useStyles = makeStyles(theme =>\n    createStyles({\n        contentWrapper: {\n            display: 'flex',\n            overflow: 'hidden',\n            paddingTop: theme.spacing(1),\n            paddingBottom: theme.spacing(1),\n            paddingLeft: theme.spacing(3),\n            paddingRight: theme.spacing(3),\n            [theme.breakpoints.down('xs')]: {\n                flexDirection: 'column',\n            },\n        },\n        contentLeft: {\n            maxWidth: 280,\n        },\n        contentControl: {\n            flexGrow: 0,\n            flexShrink: 0,\n            display: 'flex',\n            flexDirection: 'column',\n            width: 270,\n        },\n\n        paperRoot: {\n            maxWidth: 250,\n        },\n        listItemPaper: {\n            justifyContent: 'center',\n        },\n        iconRoot: {\n            position: 'absolute',\n            color: theme.palette.action.active,\n        },\n        inputBaseRoot: {\n            display: 'block',\n        },\n        inputBaseInputZH: {\n            textAlign: 'center',\n            fontSize: 36,\n            padding: 0,\n            paddingTop: 6,\n            height: 45,\n        },\n        inputBaseInputEN: {\n            textAlign: 'center',\n            fontSize: 18,\n            padding: 0,\n            paddingBottom: 6,\n            height: 'auto',\n        },\n\n        chipWrapper: {\n            overflowX: 'auto',\n            display: 'flex',\n        },\n        chipRoot: {\n            borderRadius: 4.5,\n            height: 32,\n            lineHeight: '1rem',\n            margin: 2,\n        },\n        chipLabel: {\n            padding: '0 6px',\n            '& > span': {\n                display: 'block',\n                textAlign: 'center',\n            },\n            '& > span:first-child': {\n                fontSize: '1rem',\n            },\n            '& > span:last-child': {\n                lineHeight: '0.8rem',\n            },\n        },\n    })\n);\n\ninterface Props {\n    open: boolean;\n    theme: Theme;\n    lineName: Name;\n    onUpdate: (key: string, value: any) => void;\n    onClose: () => void;\n}\n\nconst Dialog2 = (props: Props) => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n\n    return (\n        <Dialog open={props.open} onClose={props.onClose}>\n            <DialogTitle>{t('colour.title')}</DialogTitle>\n            <DialogContent className={classes.contentWrapper}>\n                <List component=\"div\" disablePadding className={classes.contentLeft}>\n                    <LineNameInput theme={props.theme} lineName={props.lineName} onUpdate={props.onUpdate} />\n                    <Divider />\n                    <RecentChipSet onUpdate={props.onUpdate} />\n                </List>\n                <div className={classes.contentControl}>\n                    <ColourControl theme={props.theme} onUpdate={props.onUpdate} />\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose} color=\"primary\">\n                    {t('dialog.done')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default Dialog2;\n\nconst LineNameInput = (props: { lineName: Name; theme: Theme; onUpdate: Props['onUpdate'] }) => {\n    const classes = useStyles();\n\n    const nameChange = (value: string, index: number) => {\n        let newName = props.lineName.map((val, idx) => (idx === index ? value : val));\n        props.onUpdate('name', newName);\n    };\n\n    return (\n        <ListItem style={{ justifyContent: 'center' }}>\n            <Paper className={classes.paperRoot} style={{ backgroundColor: props.theme[2] }}>\n                <Icon className={classes.iconRoot}>edit</Icon>\n                <InputBase\n                    value={props.lineName[0]}\n                    classes={{\n                        root: classes.inputBaseRoot,\n                        input: classes.inputBaseInputZH,\n                    }}\n                    style={{ color: props.theme[3] || MonoColour.white }}\n                    onChange={e => nameChange(e.target.value, 0)}\n                    autoFocus\n                />\n                <InputBase\n                    value={props.lineName[1]}\n                    classes={{\n                        root: classes.inputBaseRoot,\n                        input: classes.inputBaseInputEN,\n                    }}\n                    style={{ color: props.theme[3] || MonoColour.white }}\n                    onChange={e => nameChange(e.target.value, 1)}\n                />\n            </Paper>\n        </ListItem>\n    );\n};\n\nconst RecentChipSet = (props: { onUpdate: Props['onUpdate'] }) => {\n    const { t } = useTranslation();\n    const classes = useStyles();\n\n    const theme = useSelector((store: RootState) => store.param.theme);\n    const lineName = useSelector((store: RootState) => store.param.line_name);\n    const { param } = useContext(ParamContext);\n\n    const allInfos = useMemo(\n        () =>\n            new Set(\n                Object.values(param.stn_list)\n                    .reduce(\n                        (acc, { transfer }) => {\n                            const { info } = transfer;\n                            return acc.concat(...info);\n                        },\n                        [[...theme, ...lineName]]\n                    )\n                    .map(val => JSON.stringify(val))\n                    .reverse()\n            ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        []\n    );\n\n    const chips = useMemo(\n        () =>\n            [...allInfos].map((x, i) => {\n                const info: InterchangeInfo = JSON.parse(x);\n                const label = info.slice(4).map((txt, i) => (\n                    <span key={i} style={{ color: info[3] }}>\n                        {txt}\n                    </span>\n                ));\n\n                return (\n                    <Chip\n                        key={i}\n                        onClick={() => {\n                            props.onUpdate('theme', info.slice(0, 4));\n                            props.onUpdate('name', info.slice(4));\n                        }}\n                        style={{ backgroundColor: info[2] }}\n                        className={classes.chipRoot}\n                        classes={{ label: classes.chipLabel }}\n                        {...{ label }}\n                    />\n                );\n            }),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        []\n    );\n\n    return (\n        <ListItem>\n            <ListItemText\n                primary={t('colour.recent')}\n                secondary={chips}\n                secondaryTypographyProps={{ component: 'div' }}\n                classes={{ secondary: classes.chipWrapper }}\n            />\n        </ListItem>\n    );\n};\n\nconst ColourControl = (props: { theme: Theme; onUpdate: Props['onUpdate'] }) => {\n    const { t } = useTranslation();\n    const [tabIndex, setTabIndex] = useState(props.theme[0] === 'other' ? 1 : 0);\n\n    const tabNav = (\n        <Tabs\n            value={tabIndex}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(_, val) => setTabIndex(val)}\n            variant=\"fullWidth\"\n            scrollButtons=\"off\"\n        >\n            <Tab label={t('colour.palette')} style={{ minWidth: 'unset' }} />\n            <Tab label={t('colour.custom')} style={{ minWidth: 'unset' }} />\n        </Tabs>\n    );\n\n    const panel = (idx => {\n        switch (idx) {\n            case 0:\n                return <PalettePanel {...props} />;\n            case 1:\n                return <CustomPanel {...props} />;\n            default:\n                return <></>;\n        }\n    })(tabIndex);\n\n    return (\n        <>\n            {tabNav}\n            {panel}\n        </>\n    );\n};\n","import ColourDialog from './dialog';\n\nexport default ColourDialog;"],"sourceRoot":""}