(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[92],{109:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(7),c=n(1),l=n.n(c),s=n(5);t.default=function(){var e=Object(c.useContext)(s.b),t=e.param,n=e.routes,r=t.svg_height-300,a=Object(c.useMemo)((function(){return n.filter((function(e){return e.includes(t.current_stn_idx)})).map((function(e){return e[e.indexOf(t.current_stn_idx)+("l"===t.direction?1:-1)]})).reduce((function(e,t){return e.includes(t)?e:e.concat(t)}),[])}),[n.toString(),t.current_stn_idx,t.direction]),m=Object(c.useMemo)((function(){return n.filter((function(e){return e.includes(t.current_stn_idx)})).map((function(e){return e[e.indexOf(t.current_stn_idx)+("l"===t.direction?-1:1)]})).reduce((function(e,t){return e.includes(t)?e:e.concat(t)}),[])}),[n.toString(),t.current_stn_idx,t.direction]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i,null),l.a.createElement("g",{transform:"translate(0,".concat(r,")")},l.a.createElement(o,{prevStnIds:a,nextStnIds:m})))};var i=Object(c.memo)((function(){return l.a.createElement("defs",null,l.a.createElement("marker",{id:"slope",viewBox:"-1.5 0 3 1.5",refY:.5},l.a.createElement("path",{d:"M0,0L1,1H-1z",fill:"var(--rmg-theme-colour)"})))})),o=function(e){var t=Object(c.useContext)(s.b).param,n=t.svgWidth.runin/2,r=1===e.nextStnIds.length&&["linestart","lineend"].includes(e.nextStnIds[0]),a=1===e.prevStnIds.length&&["linestart","lineend"].includes(e.prevStnIds[0]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("g",{transform:"translate(0,110)",strokeWidth:12,fill:"none"},e.nextStnIds.length>1&&l.a.createElement("path",{stroke:"var(--rmg-theme-colour)",d:"l"===t.direction?"M".concat(t.svgWidth.runin/3,",125 L").concat(t.svgWidth.runin/6,",10 H36"):"M".concat(t.svgWidth.runin/3*2,",125 L").concat(t.svgWidth.runin/6*5,",10 H").concat(t.svgWidth.runin-36),markerEnd:"url(#slope)"}),e.prevStnIds.length>1&&l.a.createElement("path",{stroke:"gray",d:"l"===t.direction?"M".concat(t.svgWidth.runin/3*2,",125 L").concat(t.svgWidth.runin/6*5,",10 H").concat(t.svgWidth.runin-24):"M".concat(t.svgWidth.runin/3,",125 L").concat(t.svgWidth.runin/6,",10 H24")})),r&&"sh"===t.info_panel_type?l.a.createElement(l.a.Fragment,null,l.a.createElement("path",{transform:"translate(0,220)",stroke:"gray",strokeWidth:12,d:"M24,16 H ".concat(t.svgWidth.runin-24)}),l.a.createElement("g",{transform:"translate(".concat("l"===t.direction?36:t.svgWidth.runin-36,",160)"),textAnchor:"l"===t.direction?"start":"end"},l.a.createElement(m,null))):a&&"sh"===t.info_panel_type?l.a.createElement(l.a.Fragment,null,l.a.createElement("path",{transform:"translate(0,220)",stroke:"var(--rmg-theme-colour)",strokeWidth:12,d:"l"===t.direction?"M ".concat(t.svgWidth.runin-24,",16 H 36"):"M24,16 H ".concat(t.svgWidth.runin-36),markerEnd:"url(#slope)"}),l.a.createElement("g",{transform:"translate(".concat("l"===t.direction?t.svgWidth.runin-36:36,",160)"),textAnchor:"l"===t.direction?"end":"start"},l.a.createElement(m,null))):l.a.createElement(l.a.Fragment,null,l.a.createElement("g",{transform:"translate(0,220)",strokeWidth:12},l.a.createElement("path",{stroke:"var(--rmg-theme-colour)",d:"M ".concat(n,",16 H ").concat("l"===t.direction?36:t.svgWidth.runin-36),markerEnd:"url(#slope)"}),l.a.createElement("path",{stroke:"gray",d:"M ".concat(n,",16 H ").concat("l"===t.direction?t.svgWidth.runin-24:24," ")})),l.a.createElement("g",{transform:"translate(".concat(n,",160)"),textAnchor:"middle"},l.a.createElement(m,null))),(a||!r)&&l.a.createElement(g,{stnIds:e.nextStnIds}),(r||!a)&&l.a.createElement(d,{stnIds:e.prevStnIds}))},m=function(){var e=Object(c.useContext)(s.b).param,t=e.stn_list[e.current_stn_idx].name;return Object(c.useMemo)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("text",{className:"rmg-name__zh",fontSize:112},t[0]),l.a.createElement("text",{className:"rmg-name__en",fontSize:36,dy:50},t[1].replace("\\"," ")))}),Object(a.a)(t))},u=function(e){var t=e.nextName,n=Object(r.a)(e,["nextName"]);return l.a.createElement("g",n,Object(c.useMemo)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("text",{className:"rmg-name__zh",fontSize:48},t[0]),l.a.createElement("text",{className:"rmg-name__en",fontSize:24,dy:28},t[1].replace("\\"," ")))}),Object(a.a)(t)))},d=function(e){var t=Object(c.useContext)(s.b).param;return l.a.createElement("g",{fill:"gray",textAnchor:"l"===t.direction?"end":"start",transform:"translate(".concat("l"===t.direction?t.svgWidth.runin-36:36,",0)")},l.a.createElement(u,{nextName:t.stn_list[e.stnIds[0]].name,transform:"translate(0,183)"}),e.stnIds.length>1&&l.a.createElement(u,{nextName:t.stn_list[e.stnIds[1]].name,transform:"translate(0,70)"}),l.a.createElement("g",{transform:"translate(0, ".concat(125-(e.stnIds.length>1?110:0),")")},l.a.createElement("text",{className:"rmg-name__zh",fontSize:22},"\u4e0a\u4e00\u7ad9"),l.a.createElement("text",{className:"rmg-name__en",fontSize:12,dx:"l"===t.direction?-70:70},"Past Stop")))},g=function(e){var t=Object(c.useContext)(s.b).param;return l.a.createElement("g",{textAnchor:"l"===t.direction?"start":"end",transform:"translate(".concat("l"===t.direction?36:t.svgWidth.runin-36,",0)")},l.a.createElement(u,{nextName:t.stn_list[e.stnIds[0]].name,transform:"translate(0,183)"}),e.stnIds.length>1&&l.a.createElement(u,{nextName:t.stn_list[e.stnIds[1]].name,transform:"translate(0,70)"}),l.a.createElement("g",{transform:"translate(0, ".concat(125-(e.stnIds.length>1?110:0),")")},l.a.createElement("text",{className:"rmg-name__zh",fontSize:22},"\u4e0b\u4e00\u7ad9"),l.a.createElement("text",{className:"rmg-name__en",fontSize:12,dx:"l"===t.direction?70:-70},"Next Stop")))}},26:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=runinSHMetro.9afa4ed0.chunk.js.map