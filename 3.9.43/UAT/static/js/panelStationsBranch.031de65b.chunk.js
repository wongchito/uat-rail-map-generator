(this["webpackJsonprail-map-generator"]=this["webpackJsonprail-map-generator"]||[]).push([[108],{151:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return u}));var r=n(1),c=n(5),i=n.n(c),s=n(14),a=n(3),l=n(22),j=n(8),o=n(2),d=n(7),b=n(0),h=Object(a.makeStyles)((function(){return Object(a.createStyles)({select:{width:166}})}));function u(t){var e=t.stnId,n=Object(s.useTranslation)().t;return Object(b.jsxs)(a.List,{children:[Object(b.jsx)(a.ListItem,{children:Object(b.jsx)(a.ListItemText,{children:Object(b.jsx)("h3",{style:{margin:0},children:n("stations.edit.branch.left")})})}),Object(b.jsx)(O,{stnId:e,direction:o.d.left}),Object(b.jsx)(a.Divider,{}),Object(b.jsx)(a.ListItem,{children:Object(b.jsx)(a.ListItemText,{children:Object(b.jsx)("h3",{style:{margin:0},children:n("stations.edit.branch.right")})})}),Object(b.jsx)(O,{stnId:e,direction:o.d.right})]})}var O=function(t){var e=t.stnId,n=t.direction,c=Object(j.c)((function(t){return t.param.style})),s=Object(j.c)((function(t){return t.param.stn_list[e].branch[n]}));return i.a.useMemo((function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(f,Object(r.a)({},t)),s[0]&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,Object(r.a)({},t)),c!==o.k.SHMetro&&Object(b.jsx)(p,Object(r.a)({},t))]})]})}),[e,n,s[0]])},f=function(t){var e=t.stnId,n=t.direction,r=Object(s.useTranslation)().t,c=h(),l=Object(j.b)(),u=Object(j.c)((function(t){return t.param.stn_list[e].branch[n]})),O=function(t){var r=t.target.value;"na"!==r&&r!==u[0]&&l(Object(d.db)(e,n,r))};return i.a.useMemo((function(){return Object(b.jsxs)(a.ListItem,{children:[Object(b.jsx)(a.ListItemIcon,{children:Object(b.jsx)(a.Icon,{children:"merge_type"})}),Object(b.jsx)(a.ListItemText,{primary:r("stations.edit.branch.type.title")}),Object(b.jsxs)(a.Select,{native:!0,onChange:O,value:u[0]||"na",className:c.select,children:[Object(b.jsx)("option",{value:"na",disabled:0!==u.length,children:r("stations.edit.branch.type.na")}),Object(b.jsx)("option",{value:o.b.through,disabled:0===u.length,children:r("stations.edit.branch.type.through")}),Object(b.jsx)("option",{value:o.b.nonThrough,disabled:0===u.length,children:r("stations.edit.branch.type.nonThrough")})]})]})}),[e,u[0]])},x=function(t){var e=t.stnId,n=t.direction,r=Object(s.useTranslation)().t,c=h(),u=Object(j.b)(),O=Object(j.c)((function(t){return t.param.style})),f=Object(j.c)((function(t){return t.param.stn_list})),x=f[e],p=x.branch[n],m=n===o.d.left?x.parents:x.children,g=function(t){var r=t.target.value;if(p[1]!==r){var c,i=r;if(n===o.d.right){for(;1===f[i].parents.length;)i=f[i].children[0];c=f[i].parents[m.indexOf(r)]}else{for(;1===f[i].children.length;)i=f[i].parents[0];c=f[i].children[m.indexOf(r)]}var s=[{stnId:e,direction:n,first:r},{stnId:i,direction:n===o.d.left?o.d.right:o.d.left,first:c}];u(Object(d.cb)(s))}};return i.a.useMemo((function(){return Object(b.jsxs)(a.ListItem,{children:[Object(b.jsx)(a.ListItemIcon,{children:Object(b.jsx)(a.Icon,{style:{transform:n===o.d.left?"scale(-1)":"scale(1)"},children:"share"})}),Object(b.jsx)(a.ListItemText,{primary:r("stations.edit.branch.first")}),Object(b.jsx)(a.Select,{native:!0,onChange:g,value:p[1]||m[0],className:c.select,children:m.map((function(t){return Object(b.jsx)("option",{value:t,children:Object(l.a)(f[t],O)},t)}))})]})}),[e,p[1],m.toString()])},p=function(t){var e=t.stnId,n=t.direction,r=Object(s.useTranslation)().t,c=h(),l=Object(j.b)(),u=Object(j.c)((function(t){return t.param.stn_list})),O=u[e],f=O.branch[n],x=n===o.d.left?O.parents:O.children,p=function(t){var r="lower"===t.target.value?1:0;if(x.indexOf(f[1])!==r){var c=f[1];if(n===o.d.right){for(;1===u[c].parents.length;)c=u[c].children[0];l(Object(d.A)(c,e))}else{for(;1===u[c].children.length;)c=u[c].parents[0];l(Object(d.A)(e,c))}}};return i.a.useMemo((function(){return Object(b.jsxs)(a.ListItem,{children:[Object(b.jsx)(a.ListItemIcon,{children:Object(b.jsx)(a.Icon,{children:"swap_vert"})}),Object(b.jsx)(a.ListItemText,{primary:r("stations.edit.branch.pos.title")}),Object(b.jsx)(a.Select,{native:!0,onChange:p,value:1===x.indexOf(f[1])?"lower":"upper",className:c.select,children:["upper","lower"].map((function(t){return Object(b.jsx)("option",{value:t,children:r("stations.edit.branch.pos."+t)},t)}))})]})}),[e,f[1],x.toString()])}}}]);
//# sourceMappingURL=panelStationsBranch.031de65b.chunk.js.map