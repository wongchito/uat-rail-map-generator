{"version":3,"file":"static/js/runinSHMetro.ee34d8fb.chunk.js","mappings":"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","sources":["svgs/runin/runin-shmetro.tsx"],"sourcesContent":["import React, { useMemo, memo } from 'react';\nimport { Name } from '../../constants/constants';\nimport { useAppSelector } from '../../redux';\n\nconst RunInSHMetro = () => {\n    const { routes } = useAppSelector(store => store.helper)\n    const param = useAppSelector(store => store.param);\n\n    // get the height\n    const dh = param.svg_height - 300;\n\n    const prevStnIds = useMemo(\n        () => {\n            // reduce from https://stackoverflow.com/questions/43773999/remove-duplicates-from-arrays-using-reduce\n            // and https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\n            return (\n                routes\n                    .filter(route => route.includes(param.current_stn_idx))\n                    .map(route => route[route.indexOf(param.current_stn_idx) + (param.direction === 'l' ? 1 : -1)])\n                    // .flat()\n                    // remove duplicate\n                    .reduce((acc, cur) => (acc.includes(cur) ? acc : acc.concat(cur)), [] as string[])\n            );\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [routes.toString(), param.current_stn_idx, param.direction]\n    );\n\n    const nextStnIds = useMemo(\n        () =>\n            routes\n                .filter(route => route.includes(param.current_stn_idx))\n                .map(route => route[route.indexOf(param.current_stn_idx) + (param.direction === 'l' ? -1 : 1)])\n                // .flat()\n                // remove duplicate\n                .reduce((acc, cur) => (acc.includes(cur) ? acc : acc.concat(cur)), [] as string[]),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [routes.toString(), param.current_stn_idx, param.direction]\n    );\n\n    return (\n        <>\n            <DefsSHMetro />\n            <g transform={`translate(0,${dh})`}>\n                <GeneralStation prevStnIds={prevStnIds} nextStnIds={nextStnIds} />\n            </g>\n        </>\n    );\n};\n\nexport default RunInSHMetro;\n\nconst DefsSHMetro = memo(() => (\n    <defs>\n        {/* An extension of the line/path. Remember to minus the stroke-width.  */}\n        <marker id=\"slope\" viewBox=\"-1.5 0 3 1.5\" refY={0.5}>\n            <path d=\"M0,0L1,1H-1z\" fill=\"var(--rmg-theme-colour)\" />\n        </marker>\n    </defs>\n));\n\ninterface RunInGeneralProps {\n    prevStnIds: string[];\n    nextStnIds: string[];\n}\n\nconst GeneralStation = (props: RunInGeneralProps) => {\n    const param = useAppSelector(store => store.param);\n    const middle = param.svgWidth.runin / 2;\n\n    const termianl = props.nextStnIds.length === 1 && ['linestart', 'lineend'].includes(props.nextStnIds[0]);\n    const original = props.prevStnIds.length === 1 && ['linestart', 'lineend'].includes(props.prevStnIds[0]);\n\n    const nextNames = props.nextStnIds.map(stnId => param.stn_list[stnId].name);\n    const nextBranchLineDy = (props.nextStnIds.length > 1 ? (nextNames[0][0].split('\\\\').length - 1) * -50 +\n                                                       (nextNames[0][1].split('\\\\').length - 1) * -30 : 0) + 10\n    const prevNames = props.prevStnIds.map(stnId => param.stn_list[stnId].name);\n    const prevBranchLineDy = (props.prevStnIds.length > 1 ? (prevNames[0][0].split('\\\\').length - 1) * -50 +\n                                                        (prevNames[0][1].split('\\\\').length - 1) * -30 : 0) + 10\n\n    return (\n        <>\n            <g transform=\"translate(0,110)\" strokeWidth={12} fill=\"none\">\n                {props.nextStnIds.length > 1 && (\n                    <path\n                        stroke=\"var(--rmg-theme-colour)\"\n                        d={\n                            param.direction === 'l'\n                                ? `M${param.svgWidth.runin / 3},125 L${param.svgWidth.runin / 6},${nextBranchLineDy} H36`\n                                : `M${(param.svgWidth.runin / 3) * 2},125 L${(param.svgWidth.runin / 6) * 5},${nextBranchLineDy} H${\n                                      param.svgWidth.runin - 36\n                                  }`\n                        }\n                        markerEnd=\"url(#slope)\"\n                    />\n                )}\n                {props.prevStnIds.length > 1 && (\n                    <path\n                        stroke=\"gray\"\n                        d={\n                            param.direction === 'l'\n                                ? `M${(param.svgWidth.runin / 3) * 2},125 L${(param.svgWidth.runin / 6) * 5},${prevBranchLineDy} H${\n                                      param.svgWidth.runin - 24\n                                  }`\n                                : `M${param.svgWidth.runin / 3},125 L${param.svgWidth.runin / 6},${prevBranchLineDy} H24`\n                        }\n                    />\n                )}\n            </g>\n\n            {termianl && param.info_panel_type !== 'sh2020' ? (\n                <>\n                    <path\n                        transform=\"translate(0,220)\"\n                        stroke=\"gray\"\n                        strokeWidth={12}\n                        d={`M24,16 H ${param.svgWidth.runin - 24}`}\n                    />\n\n                    <g transform={`translate(${param.direction === 'l' ? 36 : param.svgWidth.runin - 36},160)`}\n                        textAnchor={param.direction === 'l' ? 'start' : 'end'} >\n                        <CurrentText />\n                    </g>\n                </>\n            ) : original && param.info_panel_type !== 'sh2020' ? (\n                <>\n                    <path\n                        transform=\"translate(0,220)\"\n                        stroke=\"var(--rmg-theme-colour)\"\n                        strokeWidth={12}\n                        d={\n                            param.direction === 'l'\n                                ? `M ${param.svgWidth.runin - 24},16 H 36`\n                                : `M24,16 H ${param.svgWidth.runin - 36}`\n                        }\n                        markerEnd=\"url(#slope)\"\n                    />\n\n                    <g transform={`translate(${param.direction === 'l' ? param.svgWidth.runin - 36 : 36},160)`}\n                        textAnchor={param.direction === 'l' ? 'end' : 'start'} >\n                        <CurrentText />\n                    </g>\n                </>\n            ) : (\n                <>\n                    <g transform=\"translate(0,220)\" strokeWidth={12}>\n                        <path\n                            stroke=\"var(--rmg-theme-colour)\"\n                            d={`M ${middle},16 H ${param.direction === 'l' ? 36 : param.svgWidth.runin - 36}`}\n                            markerEnd=\"url(#slope)\"\n                        />\n                        <path\n                            stroke=\"gray\"\n                            d={`M ${middle},16 H ${param.direction === 'l' ? param.svgWidth.runin - 24 : 24} `}\n                        />\n                    </g>\n\n                    <g transform={`translate(${middle},160)`} textAnchor=\"middle\">\n                        <CurrentText />\n                    </g>\n                </>\n            )}\n\n            {(original || !termianl) && (<NextStn stnIds={props.nextStnIds} />)}\n            {(termianl || !original) && (<PrevStn stnIds={props.prevStnIds} />)}\n        </>\n    );\n};\n\nconst CurrentText = () => {\n    const param = useAppSelector(store => store.param);\n    const { name } = param.stn_list[param.current_stn_idx];\n    return useMemo(\n        () => (\n            <>\n                <text className=\"rmg-name__zh\" fontSize={112}>\n                    {name[0]}\n                </text>\n                <text className=\"rmg-name__en\" fontSize={36} dy={50}>\n                    {name[1].replace('\\\\', ' ')}\n                </text>\n            </>\n        ),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [...name]\n    );\n};\n\nconst NextText = (props: { nextName: Name } & React.SVGProps<SVGGElement>) => {\n    const { nextName, ...others } = props;\n    return (\n        <g {...others}>\n            {useMemo(\n                () => (\n                    <>\n                        {nextName[0].split('\\\\').map((name, i, array)=>(\n                            <text className=\"rmg-name__zh\" fontSize={48} key={name}\n                                dy={(array.length - 1 - i) * -50 - (nextName[1].split('\\\\').length - 1) * 30}>\n                                {name}\n                            </text>\n                        ))}\n                        {nextName[1].split('\\\\').map((name, i, array)=>(\n                            <text className=\"rmg-name__en\" fontSize={24} key={name}\n                                dy={28 + (array.length - 1 - i) * -30}>\n                                {name}\n                            </text>\n                        ))}\n                    </>\n                ),\n                // eslint-disable-next-line react-hooks/exhaustive-deps\n                [...nextName]\n            )}\n        </g>\n    );\n};\n\nconst PrevStn = (props: { stnIds: string[] }) => {\n    const param = useAppSelector(store => store.param);\n    const nextNames = props.stnIds.map(stnId => param.stn_list[stnId].name);\n    const prevHintDy = (props.stnIds.length > 1 ? 15 : 125) +\n        nextNames.map(name => name[0].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -50 +\n        nextNames.map(name => name[1].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -30\n    const nextBranchTextDy = (props.stnIds.length > 1 ? (nextNames[0][0].split('\\\\').length - 1) * -50 +\n        (nextNames[0][1].split('\\\\').length - 1) * -30 : 0) + 70\n\n    return (\n        <g\n            fill=\"gray\"\n            textAnchor={param.direction === 'l' ? 'end' : 'start'}\n            transform={`translate(${param.direction === 'l' ? param.svgWidth.runin - 36 : 36},0)`}\n        >\n            <NextText nextName={nextNames[0]} transform=\"translate(0,183)\" />\n            {props.stnIds.length > 1 && (\n                <NextText nextName={nextNames[1]} transform={`translate(0,${nextBranchTextDy})`} />\n            )}\n            <g transform={`translate(0, ${prevHintDy})`}>\n                <text className=\"rmg-name__zh\" fontSize={22}>\n                    上一站\n                </text>\n                <text className=\"rmg-name__en\" fontSize={12} dx={param.direction === 'l' ? -70 : 70}>\n                    Past Stop\n                </text>\n            </g>\n        </g>\n    );\n};\n\nconst NextStn = (props: { stnIds: string[] }) => {\n    const param = useAppSelector(store => store.param);\n    const nextNames = props.stnIds.map(stnId => param.stn_list[stnId].name);\n    const nextHintDy = (props.stnIds.length > 1 ? 15 : 125) +\n        nextNames.map(name => name[0].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -50 +\n        nextNames.map(name => name[1].split('\\\\').length).reduce((acc, cur) => acc + cur, -nextNames.length) * -30\n    const nextBranchTextDy = (props.stnIds.length > 1 ? (nextNames[0][0].split('\\\\').length - 1) * -50 +\n                                                       (nextNames[0][1].split('\\\\').length - 1) * -30 : 0) + 70\n\n    return (\n        <g\n            textAnchor={param.direction === 'l' ? 'start' : 'end'}\n            transform={`translate(${param.direction === 'l' ? 36 : param.svgWidth.runin - 36},0)`}\n        >\n            <NextText nextName={param.stn_list[props.stnIds[0]].name} transform=\"translate(0,183)\" />\n            {props.stnIds.length > 1 && (\n                <NextText nextName={param.stn_list[props.stnIds[1]].name} transform={`translate(0,${nextBranchTextDy})`}/>\n            )}\n            <g transform={`translate(0, ${nextHintDy})`}>\n                <text className=\"rmg-name__zh\" fontSize={22}>\n                    下一站\n                </text>\n                <text className=\"rmg-name__en\" fontSize={12} dx={param.direction === 'l' ? 70 : -70}>\n                    Next Stop\n                </text>\n            </g>\n        </g>\n    );\n};\n"],"names":["routes","useAppSelector","store","helper","param","dh","svg_height","prevStnIds","useMemo","filter","route","includes","current_stn_idx","map","indexOf","direction","reduce","acc","cur","concat","toString","nextStnIds","DefsSHMetro","transform","GeneralStation","memo","id","viewBox","refY","d","fill","props","middle","svgWidth","runin","termianl","length","original","nextNames","stnId","stn_list","name","nextBranchLineDy","split","prevNames","prevBranchLineDy","strokeWidth","stroke","markerEnd","info_panel_type","textAnchor","CurrentText","NextStn","stnIds","PrevStn","className","fontSize","dy","replace","NextText","nextName","others","i","array","prevHintDy","nextBranchTextDy","dx","nextHintDy"],"sourceRoot":""}