{"version":3,"sources":["svgs/runin/info-gzmtr.tsx","svgs/runin/runin-gzmtr.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","svgs/strip/strip-gzmtr.tsx","svgs/station-num-gzmtr.tsx"],"names":["InfoGZMTR","param","React","useContext","ParamContext","curStnInfo","stn_list","current_stn_idx","curNameEl","useRef","useState","width","nameBBox","setNameBBox","useEffect","current","getBBox","name","nextStnId","direction","otisTransforms","svgWidth","runin","next","transform","info_panel_type","BigName","ref","curName","curSecName","secondaryName","style","svg_height","split","length","lineNum","line_num","stnNum","num","includes","nextId","nextIds","forwardRef","props","others","id","useMemo","className","fontSize","map","txt","i","dy","secName","BigSecName","nameEl","x","bBox","setBBox","toString","textAnchor","BigStnNum","d","BigNext","nextInfo","nextBBox","setNextBBox","nextNameEl","nextNameZHCount","nameBcrX","fill","BigNextSec","BigNext2","routes","nextNames","nextNameEls","prevBBox","forEach","el","validEnds","stnId","reduce","acc","route","concat","filter","s","slice","Math","max","names","Fragment","y","j","join","replace","PlatformNum","RunInGZMTR","platform","variant","isShowLight","isShowPSD","psd_num","platform_num","cx","cy","r","OtisFrame","strokeWidth","stroke","y2","x2","_objectWithoutProperties","source","excluded","key","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","StripGZMTR","stripHeight","indicatorLight","rx","ry","height","PSD","memo","isInStrip","psdDy","prevProps","nextProps","StationNumberText","LINE_NUM_MAX_WIDTH","lineNumEl","lineNumScale","stnNumScale"],"mappings":"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","file":"static/js/runinGZMTR.e6a5c88e.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { ParamContext } from '../../context';\nimport StationNumberText from '../station-num-gzmtr';\n\nconst InfoGZMTR = () => {\n    const { param } = React.useContext(ParamContext);\n    const curStnInfo = param.stn_list[param.current_stn_idx];\n\n    const curNameEl = React.useRef<SVGGElement | null>(null);\n    const [nameBBox, setNameBBox] = useState({ width: 0 } as DOMRect);\n    useEffect(\n        () => setNameBBox(curNameEl.current!.getBBox()),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [curStnInfo.name[0], curStnInfo.name[1]]\n    );\n\n    const nextStnId = curStnInfo[param.direction === 'l' ? 'parents' : 'children'];\n\n    const otisTransforms = {\n        name: `translate(${((param.direction === 'l' ? 1 : -1) * param.svgWidth.runin) / 4},45)`,\n        next: `translate(${((param.direction === 'l' ? 1 : -1) * param.svgWidth.runin) / 10},45)`,\n    };\n\n    return (\n        <g>\n            <g transform={param.info_panel_type === 'gz2otis' ? otisTransforms.name : ''}>\n                <BigName\n                    ref={curNameEl}\n                    curName={curStnInfo.name}\n                    curSecName={curStnInfo.secondaryName}\n                    style={{\n                        ['--translate-y' as any]: `${\n                            0.5 * param.svg_height -\n                            50 -\n                            (curStnInfo.name[1].split('\\\\').length - 1) * 18 -\n                            (curStnInfo.secondaryName ? 58 / 2 : 0)\n                        }px`,\n                    }}\n                />\n\n                <BigStnNum\n                    lineNum={param.line_num}\n                    stnNum={curStnInfo.num}\n                    style={{\n                        ['--translate-x' as any]: `${(param.svgWidth.runin + nameBBox.width) / 2 + 55}px`,\n                        ['--translate-y' as any]: `${\n                            0.5 * param.svg_height -\n                            30 -\n                            (curStnInfo.name[1].split('\\\\').length - 1) * 18 -\n                            (curStnInfo.secondaryName ? 58 / 2 : 0)\n                        }px`,\n                    }}\n                />\n            </g>\n\n            <g transform={param.info_panel_type === 'gz2otis' ? otisTransforms.next : ''}>\n                {nextStnId.includes('linestart') || nextStnId.includes('lineend') ? (\n                    <></>\n                ) : nextStnId.length === 1 ? (\n                    <BigNext nextId={nextStnId[0]} nameBBox={nameBBox} />\n                ) : (\n                    <BigNext2 nextIds={nextStnId} nameBBox={nameBBox} />\n                )}\n            </g>\n        </g>\n    );\n};\n\nexport default InfoGZMTR;\n\nconst BigName = React.forwardRef(\n    (props: { curName: Name; curSecName: false | Name } & React.SVGProps<SVGGElement>, ref: React.Ref<SVGGElement>) => {\n        const { curName, curSecName, ...others } = props;\n\n        return (\n            <g id=\"big_name\" {...others}>\n                {React.useMemo(\n                    () => (\n                        <g ref={ref}>\n                            <text className=\"rmg-name__zh\" fontSize={90}>\n                                {curName[0]}\n                            </text>\n                            <g fontSize={36} className=\"rmg-name__en\">\n                                {curName[1].split('\\\\').map((txt, i) => (\n                                    <text key={i} dy={70 + i * 36}>\n                                        {txt}\n                                    </text>\n                                ))}\n                            </g>\n                        </g>\n                    ),\n                    // eslint-disable-next-line react-hooks/exhaustive-deps\n                    [curName]\n                )}\n\n                {curSecName && (\n                    <BigSecName\n                        secName={curSecName}\n                        transform={`translate(0,${70 + curName[1].split('\\\\').length * 36})`}\n                    />\n                )}\n            </g>\n        );\n    }\n);\n\nconst BigSecName = (props: { secName: Name } & React.SVGProps<SVGGElement>) => {\n    const { secName, ...others } = props;\n    const nameEl = useRef<SVGGElement | null>(null);\n    const [bBox, setBBox] = useState({ x: 0, width: 0 } as DOMRect);\n    useEffect(\n        () => setBBox(nameEl.current!.getBBox()),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [props.secName.toString()]\n    );\n\n    return (\n        <g {...others}>\n            <g transform=\"translate(0,4.5)\" fontSize={36}>\n                <text textAnchor=\"end\" x={bBox.x - 3} className=\"rmg-name__zh\">\n                    {'('}\n                </text>\n                <text textAnchor=\"start\" x={bBox.width + bBox.x + 3} className=\"rmg-name__zh\">\n                    {')'}\n                </text>\n            </g>\n            <g ref={nameEl} textAnchor=\"middle\">\n                <text className=\"rmg-name__zh\" fontSize={26}>\n                    {secName[0]}\n                </text>\n                <text dy={22} className=\"rmg-name__en\" fontSize={14}>\n                    {secName[1]}\n                </text>\n            </g>\n        </g>\n    );\n};\n\nconst BigStnNum = (props: { lineNum: string; stnNum: string } & React.SVGProps<SVGGElement>) => {\n    const { lineNum, stnNum, ...others } = props;\n\n    return (\n        <g id=\"big_stn_num\" {...others}>\n            {React.useMemo(\n                () => (\n                    <>\n                        <path\n                            className=\"rmg-stn rmg-stn--future\"\n                            d=\"M 0,12.95 V -12.95 H -12.95 a 12.95,12.95 0 0,0 0,25.9 h 25.9 a 12.95,12.95 0 0,0 0,-25.9 H 0 \"\n                        />\n                        <StationNumberText transform=\"scale(1.4)\" {...{ lineNum, stnNum }} />\n                    </>\n                ),\n                [lineNum, stnNum]\n            )}\n        </g>\n    );\n};\n\nconst BigNext = (props: { nextId: string; nameBBox: DOMRect }) => {\n    const { param } = React.useContext(ParamContext);\n    const nextInfo = param.stn_list[props.nextId];\n    const { name, secondaryName } = nextInfo;\n\n    const [nextBBox, setNextBBox] = useState({ width: 0 } as DOMRect);\n    const nextNameEl = React.useRef<SVGGElement | null>(null);\n    useEffect(\n        () => setNextBBox(nextNameEl.current!.getBBox()),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [name.toString()]\n    );\n\n    const nextNameZHCount = param.stn_list[props.nextId].name[0].length;\n    const nameBcrX = (param.svgWidth.runin - props.nameBBox.width) / 2;\n\n    return (\n        <>\n            <g id=\"big_next\">\n                <g\n                    textAnchor=\"middle\"\n                    style={{\n                        ['--translate-x' as any]:\n                            param.direction === 'l'\n                                ? '80px'\n                                : nextNameZHCount <= 2\n                                ? `${param.svgWidth.runin - 45 - nextBBox.width - 70}px`\n                                : `${param.svgWidth.runin - 45 - nextBBox.width - 35 * 1.5}px`,\n                    }}\n                >\n                    <text className=\"rmg-name__zh\" fontSize={35}>\n                        下站\n                    </text>\n                    <text className=\"rmg-name__en\" fontSize={17} dy={30}>\n                        Next\n                    </text>\n                </g>\n                <g\n                    textAnchor=\"start\"\n                    ref={nextNameEl}\n                    style={{\n                        ['--translate-x' as any]:\n                            param.direction === 'l'\n                                ? nextNameZHCount <= 2\n                                    ? `${115 + 35}px`\n                                    : `${115 + 35 / 2}px`\n                                : `${param.svgWidth.runin - 45 - nextBBox.width}px`,\n                    }}\n                >\n                    <text className=\"rmg-name__zh\" fontSize={35}>\n                        {name[0]}\n                    </text>\n                    <g fontSize={17}>\n                        {name[1].split('\\\\').map((txt: string, i: number) => (\n                            <text className=\"rmg-name__en\" dy={30 + i * 17} key={i}>\n                                {txt}\n                            </text>\n                        ))}\n                    </g>\n                </g>\n                {secondaryName && (\n                    <g\n                        textAnchor=\"middle\"\n                        style={{\n                            ['--translate-x' as any]:\n                                param.direction === 'l'\n                                    ? nextNameZHCount <= 2\n                                        ? `${115 + 35}px`\n                                        : `${115 + 35 / 2}px`\n                                    : `${param.svgWidth.runin - 45 - nextBBox.width}px`,\n                        }}\n                    >\n                        <BigNextSec\n                            secName={secondaryName}\n                            transform={`translate(${nextBBox.width / 2},${30 + name[1].split('\\\\').length * 17 + 5})`}\n                        />\n                    </g>\n                )}\n            </g>\n            <path\n                id=\"arrow\"\n                d=\"M 60,60 L 0,0 L 60,-60 H 100 L 55,-15 H 160 V 15 H 55 L 100,60z\"\n                fill=\"black\"\n                style={{\n                    ['--translate-x' as any]:\n                        param.direction === 'l'\n                            ? `${\n                                  (115 + 35 * ((nextNameZHCount <= 2 ? 1 : 0.5) + nextNameZHCount) + nameBcrX) / 2 - 20\n                              }px`\n                            : `${\n                                  (param.svgWidth.runin -\n                                      45 -\n                                      nextBBox.width -\n                                      (nextNameZHCount <= 2 ? 70 + 35 : 35 * 2.5) +\n                                      nameBcrX +\n                                      props.nameBBox.width +\n                                      55 +\n                                      18.5 * 1.4) /\n                                      2 +\n                                  20\n                              }px`,\n                    ['--rotate' as any]: param.direction === 'l' ? '0deg' : '180deg',\n                }}\n            />\n        </>\n    );\n};\n\nconst BigNextSec = (props: { secName: Name } & React.SVGProps<SVGGElement>) => {\n    const { secName, ...others } = props;\n\n    const nameEl = useRef<SVGGElement | null>(null);\n    const [bBox, setBBox] = useState({ x: 0, width: 0 } as DOMRect);\n    useEffect(\n        () => setBBox(nameEl.current!.getBBox()),\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [props.secName.toString()]\n    );\n\n    return (\n        <g {...others}>\n            <g transform=\"translate(0,2.5)\" fontSize={25}>\n                <text textAnchor=\"end\" x={bBox.x - 3} className=\"rmg-name__zh\">\n                    {'('}\n                </text>\n                <text textAnchor=\"start\" x={bBox.width + bBox.x + 3} className=\"rmg-name__zh\">\n                    {')'}\n                </text>\n            </g>\n            <g ref={nameEl}>\n                <text className=\"rmg-name__zh\" fontSize={18}>\n                    {secName[0]}\n                </text>\n                <text className=\"rmg-name__en\" fontSize={10} dy={15}>\n                    {secName[1]}\n                </text>\n            </g>\n        </g>\n    );\n};\n\nconst BigNext2 = (props: { nextIds: string[]; nameBBox: DOMRect }) => {\n    const { param, routes } = React.useContext(ParamContext);\n\n    const nextNames = props.nextIds.map((id) => param.stn_list[id].name);\n    const [nextBBox, setNextBBox] = useState({ width: 0 } as DOMRect);\n    const nextNameEls = useRef<(SVGGElement | null)[]>([]);\n    useEffect(\n        () => {\n            setNextBBox((prevBBox) => ({ ...prevBBox, width: 0 }));\n            nextNameEls.current.forEach((el) => {\n                let nextBBox = el?.getBBox();\n                setNextBBox((prevBBox) => {\n                    if (nextBBox) {\n                        return prevBBox.width > nextBBox.width ? prevBBox : nextBBox;\n                    } else {\n                        return prevBBox;\n                    }\n                });\n            });\n        },\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [nextNames.toString()]\n    );\n\n    const validEnds = props.nextIds.map((stnId) =>\n        routes.reduce(\n            (acc, route) =>\n                // filter routes not containing next station's id\n                route.includes(stnId)\n                    ? acc.concat(\n                          route\n                              .filter((s) => !['linestart', 'lineend'].includes(s))\n                              // select first/last station's id\n                              .slice(param.direction === 'l' ? 0 : -1)[0]\n                      )\n                    : acc,\n            [] as string[]\n        )\n    );\n\n    const nextNameZHCount = Math.max(...nextNames.map((names) => names[0].length));\n    const nameBcrX = (param.svgWidth.runin - props.nameBBox.width) / 2;\n\n    return (\n        <>\n            <g id=\"big_next_2\">\n                {nextNames.map((name, i) => {\n                    return (\n                        <React.Fragment key={i}>\n                            <g\n                                textAnchor=\"middle\"\n                                style={{\n                                    ['--translate-x' as any]:\n                                        param.direction === 'l'\n                                            ? '72px'\n                                            : `${param.svgWidth.runin - 45 - nextBBox.width - 41}px`,\n                                }}\n                            >\n                                <text className=\"rmg-name__zh\">下站</text>\n                                <text className=\"rmg-name__en\" y={22}>\n                                    Next\n                                </text>\n                            </g>\n                            <g\n                                ref={(el) => (nextNameEls.current[i] = el)}\n                                textAnchor=\"start\"\n                                style={{\n                                    ['--translate-x' as any]:\n                                        param.direction === 'l'\n                                            ? '113px'\n                                            : `${param.svgWidth.runin - 45 - nextBBox.width}px`,\n                                }}\n                            >\n                                <text className=\"rmg-name__zh\">{name[0]}</text>\n                                {name[1].split('\\\\').map((txt, j) => (\n                                    <text key={j} className=\"rmg-name__en\" y={22 + j * 13}>\n                                        {txt}\n                                    </text>\n                                ))}\n                                <text className=\"rmg-name__zh\" y={-35}>\n                                    {validEnds[i].map((s) => param.stn_list[s].name[0]).join('/') + '方向'}\n                                </text>\n                                <text className=\"rmg-name__en rmg-name__gzmtr--next2-dest\" y={-20}>\n                                    {'Towards ' +\n                                        validEnds[i]\n                                            .map((s) => param.stn_list[s].name[1])\n                                            .join('/')\n                                            .replace('\\\\', ' ')}\n                                </text>\n                            </g>\n                        </React.Fragment>\n                    );\n                })}\n            </g>\n            <path\n                id=\"arrow\"\n                d=\"M 60,60 L 0,0 L 60,-60 H 100 L 55,-15 H 160 V 15 H 55 L 100,60z\"\n                fill=\"black\"\n                style={{\n                    ['--translate-x' as any]:\n                        param.direction === 'l'\n                            ? `${(99 + 27 * (1 + nextNameZHCount) + nameBcrX) / 2 - 20}px`\n                            : `${\n                                  (param.svgWidth.runin -\n                                      45 -\n                                      nextBBox.width -\n                                      41 -\n                                      27 +\n                                      nameBcrX +\n                                      props.nameBBox.width +\n                                      55 +\n                                      18.5 * 1.4) /\n                                      2 +\n                                  20\n                              }px`,\n                    ['--rotate' as any]: param.direction === 'l' ? '0deg' : '180deg',\n                }}\n            />\n        </>\n    );\n};\n","import * as React from 'react';\n\nimport { ParamContext } from '../../context';\nimport StripGZMTR from '../strip/strip-gzmtr';\nimport InfoGZMTR from './info-gzmtr';\n\nconst RunInGZMTR = () => {\n    const { param } = React.useContext(ParamContext);\n\n    const otisTransforms = {\n        platform: `translate(${param.direction === 'l' ? 50 : -50},45)`,\n    };\n    return (\n        <>\n            <StripGZMTR\n                variant={param.info_panel_type}\n                isShowLight={param.info_panel_type !== 'gz2otis'}\n                isShowPSD={param.info_panel_type !== 'gz2otis' && param.psd_num}\n            />\n\n            <g transform={param.info_panel_type === 'gz2otis' ? otisTransforms.platform : ''}>\n                <PlatformNum\n                    num={param.platform_num}\n                    style={{\n                        ['--translate-x' as any]: `${param.direction === 'l' ? param.svgWidth.runin - 100 : 100}px`,\n                    }}\n                />\n            </g>\n\n            <InfoGZMTR />\n\n            {param.info_panel_type === 'gz2otis' && <OtisFrame />}\n        </>\n    );\n};\n\nexport default RunInGZMTR;\n\nconst PlatformNum = (props: { num: string | false } & React.SVGProps<SVGGElement>) => {\n    const { num, ...others } = props;\n\n    return (\n        <g id=\"platform\" {...others}>\n            {React.useMemo(\n                () => (\n                    <>\n                        <circle cx={0} cy={0} r={30} fill=\"var(--rmg-theme-colour)\" />\n                        <text className=\"rmg-name__en\" fontSize={38} dy={-9.5}>\n                            {num}\n                        </text>\n                        <text className=\"rmg-name__zh\" fontSize={13} dy={10}>\n                            站台\n                        </text>\n                        <text className=\"rmg-name__en\" fontSize={9} dy={21}>\n                            Platform\n                        </text>\n                    </>\n                ),\n                [num]\n            )}\n        </g>\n    );\n};\n\nconst OtisFrame = () => {\n    const { param } = React.useContext(ParamContext);\n    return (\n        <g id=\"otis_frame\" strokeWidth={3} stroke=\"black\">\n            <line y2={param.svg_height} transform={`translate(${param.svgWidth.runin / 2},0)`} />\n            <line x2={param.svgWidth.runin} transform=\"translate(0,90)\" />\n        </g>\n    );\n};\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react';\n\ninterface Props {\n    variant: PanelTypeGZMTR | PanelTypeShmetro;\n    isShowLight: boolean;\n    isShowPSD: false | string;\n}\n\nconst StripGZMTR = (props: Props) => {\n    const stripHeight = ((variant) => {\n        switch (variant) {\n            case 'gz28':\n            case 'gz2otis':\n            case 'gz6':\n            case 'gzgf':\n                return 60;\n            case 'gz1':\n            case 'gz3':\n                return 40;\n            case 'gz4':\n            case 'gz5':\n            case 'gz1421':\n                return 20;\n            default:\n                return 0;\n        }\n    })(props.variant);\n\n    const indicatorLight = React.useMemo(() => {\n        switch (props.variant) {\n            case 'gz1':\n                return <circle cy={-58} r={16} fill=\"red\" />;\n            case 'gz28':\n            case 'gz2otis':\n                return <ellipse cy={-30} rx={24} ry={12} fill=\"orange\" />;\n            case 'gz3':\n                return <rect x={-15} y={-55} height={30} width={30} fill=\"red\" />;\n            case 'gz6':\n                return <ellipse cy={-30} rx={24} ry={12} fill=\"white\" />;\n            case 'gz1421':\n                return <ellipse cy={-38} rx={24} ry={12} fill=\"orange\" />;\n            case 'gz5':\n                return <rect x={-30} y={-70} height={30} width={60} fill=\"orange\" />;\n            case 'gz4':\n                return <rect x={-50} y={-50} height={25} width={100} fill=\"whitesmoke\" />;\n            case 'gzgf':\n                return <rect x={-30} y={-58} height={30} width={60} fill=\"orange\" />;\n            default:\n                return <></>;\n        }\n    }, [props.variant]);\n\n    const stripDy = -20;\n\n    return (\n        <g transform={`translate(0,${props.variant === 'gz4' ? stripDy : 0})`}>\n            <rect\n                id=\"strip_gz\"\n                style={{\n                    ['--height' as any]: `${stripHeight}px`,\n                }}\n            />\n            <g\n                style={{\n                    transform: 'translate(calc(var(--rmg-svg-width) / 2),var(--rmg-svg-height))',\n                }}\n            >\n                {props.isShowLight && indicatorLight}\n            </g>\n            {props.isShowPSD !== false && <PSD {...props} />}\n        </g>\n    );\n};\n\nexport default StripGZMTR;\n\nconst PSD = React.memo(\n    (props: Props) => {\n        /**\n         * Flag of whether PSD number is stick within the strip area. If `true`, should fill with white, otherwise, fill with theme colour.\n         */\n        const isInStrip = ['gz28', 'gz2otis', 'gz6', 'gzgf'].includes(props.variant);\n        const psdDy = ((variant: PanelTypeGZMTR | PanelTypeShmetro) => {\n            switch (variant) {\n                case 'gz1':\n                case 'gz3':\n                    return '82px';\n                case 'gz4':\n                    return '65px';\n                case 'gz5':\n                    return '80px';\n                case 'gz1421':\n                    return '62px';\n                default:\n                    return '58px';\n            }\n        })(props.variant);\n\n        return (\n            <g\n                textAnchor=\"middle\"\n                fill={isInStrip ? '#000' : 'var(--rmg-theme-fg)'}\n                style={{\n                    ['--psd-dy' as any]: psdDy,\n                    transform: 'translate(var(--translate-x), var(--translate-y))',\n                    ['--translate-x' as any]: 'calc(var(--rmg-svg-width) / 2 + 80px)',\n                    ['--translate-y' as any]: 'calc(var(--rmg-svg-height) - var(--psd-dy, 58px))',\n                }}\n            >\n                <rect height={40} width={40} rx={4} x={-20} fill={isInStrip ? '#fff' : 'var(--rmg-theme-colour)'} />\n                <text className=\"rmg-name__en\" fontSize={20} dy={12}>\n                    {props.isShowPSD}\n                </text>\n                <text className=\"rmg-name__zh\" fontSize={12} dy={26}>\n                    屏蔽门\n                </text>\n                <text className=\"rmg-name__en\" fontSize={6.5} dy={36}>\n                    Screen Door\n                </text>\n            </g>\n        );\n    },\n    (prevProps, nextProps) => prevProps.variant === nextProps.variant && prevProps.isShowPSD === nextProps.isShowPSD\n);\n","import React from 'react';\n\nconst StationNumberText = (props: { lineNum: string; stnNum: string } & React.SVGProps<SVGGElement>) => {\n    const { lineNum, stnNum, ...others } = props;\n\n    const LINE_NUM_MAX_WIDTH = 15.03125;\n\n    const lineNumEl = React.useRef<SVGTextElement | null>(null);\n    const [bBox, setBBox] = React.useState({ width: LINE_NUM_MAX_WIDTH } as DOMRect);\n    React.useEffect(() => setBBox(lineNumEl.current!.getBBox()), [lineNum]);\n\n    const lineNumScale = bBox.width > LINE_NUM_MAX_WIDTH ? LINE_NUM_MAX_WIDTH / bBox.width : 1;\n    const stnNumScale = lineNum.length === 2 ? lineNumScale : 1;\n\n    return (\n        <g textAnchor=\"middle\" fontSize={13.5} {...others}>\n            {React.useMemo(\n                () => (\n                    <>\n                        <g transform={`translate(-9.25,0)scale(${lineNumScale})`}>\n                            <text ref={lineNumEl} className=\"rmg-name__zh\">\n                                {lineNum}\n                            </text>\n                        </g>\n                        <g transform={`translate(9.25,0)scale(${stnNumScale})`}>\n                            <text className=\"rmg-name__zh\">{stnNum}</text>\n                        </g>\n                    </>\n                ),\n                // eslint-disable-next-line react-hooks/exhaustive-deps\n                [bBox.width, lineNum, stnNum]\n            )}\n        </g>\n    );\n};\n\nexport default StationNumberText;\n"],"sourceRoot":""}