{"version":3,"sources":["panels/stations/edit-diag/name-tab.tsx"],"names":["NameTab","props","rmgStyle","useSelector","store","app","component","RmgStyle","GZMTR","NumInput","NameInput","SecondaryNameInput","useStyles","makeStyles","createStyles","lineNumRoot","display","alignItems","justifyContent","border","borderRightWidth","borderRadius","padding","minWidth","height","fontSize","numInput","borderLeftWidth","width","marginTop","textAlign","nameInputZH","lineHeight","nameInputEN","fontFamily","join","collapseWrapper","collapseWrapperInner","secondaryNameRoot","secondaryNameParenthesis","secondaryNameInputRoot","flexDirection","secondaryNameInputZH","stnId","classes","reduxDispatch","useDispatch","dispatch","useContext","ParamContext","lineNum","param","line_num","stationInfo","stn_list","style","className","fullWidth","value","num","onChange","target","type","updateStationNum","t","useTranslation","name","placeholder","MTR","e","updateStationName","autoFocus","helperText","secondaryName","primary","color","edge","checked","_","updateStationSecondaryName","in","unmountOnExit","wrapper","wrapperInner"],"mappings":"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","file":"static/js/panelStationsName.bc14e05a.chunk.js","sourcesContent":["import React, { useContext } from 'react';\nimport {\n    Collapse,\n    createStyles,\n    Icon,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemSecondaryAction,\n    ListItemText,\n    makeStyles,\n    Switch,\n    TextField,\n} from '@material-ui/core';\nimport { ParamContext } from '../../../context';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../../../redux';\nimport { RmgStyle } from '../../../constants/constants';\nimport { updateStationName, updateStationNum, updateStationSecondaryName } from '../../../redux/param/action';\n\ninterface Props {\n    stnId: string;\n}\n\nconst NameTab = (props: Props) => {\n    const rmgStyle = useSelector((store: RootState) => store.app.rmgStyle);\n\n    return (\n        <List component=\"div\">\n            {rmgStyle === RmgStyle.GZMTR && <NumInput {...props} />}\n            <NameInput {...props} />\n            {rmgStyle === RmgStyle.GZMTR && <SecondaryNameInput {...props} />}\n        </List>\n    );\n};\n\nexport default NameTab;\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        lineNumRoot: {\n            display: 'inline-flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            border: 'solid 2px',\n            borderRightWidth: 1,\n            borderRadius: '32px 0 0 32px',\n            padding: '2px 5px',\n            minWidth: 32,\n            height: 32,\n            fontSize: '1.5rem',\n        },\n        numInput: {\n            display: 'inline-block',\n            border: 'solid 2px',\n            borderLeftWidth: 1,\n            borderRadius: '0 32px 32px 0',\n            padding: '2px 5px',\n            width: 32,\n            height: 32,\n            '& .MuiInputBase-root': {\n                marginTop: 1.7,\n            },\n            '& .MuiInputBase-input': {\n                fontSize: '1.5rem',\n                padding: 'unset',\n                textAlign: 'center',\n            },\n        },\n        nameInputZH: {\n            '& .MuiInputBase-input': {\n                textAlign: 'center',\n                fontSize: '3rem',\n                lineHeight: '3rem',\n            },\n        },\n        nameInputEN: {\n            '& .MuiInputBase-input': {\n                textAlign: 'center',\n                fontSize: '1.2rem',\n                lineHeight: '1.2rem',\n            },\n        },\n        'nameInputZH-mtr': {\n            '& .MuiInputBase-input': {\n                fontFamily: [\n                    'Myriad Pro',\n                    'Vegur',\n                    'Noto Serif KR',\n                    'Noto Serif JP',\n                    'Noto Serif TC',\n                    'Noto Serif SC',\n                    'HiraMinProN-W6',\n                    'serif',\n                ].join(),\n            },\n        },\n        'nameInputEN-mtr': {\n            '& .MuiInputBase-input': {\n                fontFamily: ['Myriad Pro', 'Vegur', 'Arial', 'sans-serif'].join(),\n            },\n        },\n        'nameInputZH-gzmtr': {\n            '& .MuiInputBase-input': {\n                fontFamily: ['Arial', 'STKaiti', 'KaiTi', 'sans-serif'].join(),\n            },\n        },\n        collapseWrapper: {\n            justifyContent: 'center',\n        },\n        collapseWrapperInner: {\n            width: '65%',\n        },\n        secondaryNameRoot: {\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            '& .MuiInputBase-input': {\n                textAlign: 'center',\n            },\n        },\n        secondaryNameParenthesis: {\n            fontSize: '4rem',\n        },\n        secondaryNameInputRoot: {\n            display: 'flex',\n            flexDirection: 'column',\n            width: '100%',\n        },\n        secondaryNameInputZH: {\n            '& .MuiInputBase-input': {\n                fontSize: '1.5rem',\n                lineHeight: '1.5rem',\n            },\n        },\n    })\n);\n\nconst NumInput = (props: Props) => {\n    const { stnId } = props;\n    const classes = useStyles();\n    const reduxDispatch = useDispatch();\n\n    const { dispatch } = useContext(ParamContext);\n    const lineNum = useSelector((store: RootState) => store.param.line_num);\n    const stationInfo = useSelector((store: RootState) => store.param.stn_list[stnId]);\n\n    return (\n        <ListItem style={{ justifyContent: 'center' }}>\n            <div className={classes.lineNumRoot}>\n                <span>{lineNum}</span>\n            </div>\n            <TextField\n                fullWidth\n                className={classes.numInput}\n                value={stationInfo?.num}\n                onChange={({ target: { value } }) => {\n                    dispatch({ type: 'UPDATE_STATION_NUM', stnId, num: value });\n                    reduxDispatch(updateStationNum(stnId, value));\n                }}\n            />\n        </ListItem>\n    );\n};\n\nconst NameInput = (props: Props) => {\n    const { stnId } = props;\n    const { t } = useTranslation();\n    const classes = useStyles();\n    const reduxDispatch = useDispatch();\n\n    const rmgStyle = useSelector((store: RootState) => store.app.rmgStyle);\n    const { name } = useSelector((store: RootState) => store.param.stn_list[stnId]);\n    const { dispatch } = useContext(ParamContext);\n    return (\n        <ListItem style={{ flexDirection: 'column' }}>\n            <TextField\n                fullWidth\n                placeholder={t('editor.zh')}\n                className={`${classes.nameInputZH} ${\n                    rmgStyle === RmgStyle.GZMTR\n                        ? classes['nameInputZH-gzmtr']\n                        : rmgStyle === RmgStyle.MTR\n                        ? classes['nameInputZH-mtr']\n                        : ''\n                }`}\n                value={name[0]}\n                onChange={e => {\n                    dispatch({ type: 'UPDATE_STATION_NAME', stnId, name: [e.target.value, name[1]] });\n                    reduxDispatch(updateStationName(stnId, [e.target.value, name[1]]));\n                }}\n                autoFocus\n            />\n            <TextField\n                fullWidth\n                placeholder={t('editor.en')}\n                className={`${classes.nameInputEN} ${rmgStyle === RmgStyle.MTR ? classes['nameInputEN-mtr'] : ''}`}\n                value={name[1]}\n                onChange={e => {\n                    dispatch({ type: 'UPDATE_STATION_NAME', stnId, name: [name[0], e.target.value] });\n                    reduxDispatch(updateStationName(stnId, [name[0], e.target.value]));\n                }}\n                helperText={t('editor.backslashToWrap')}\n            />\n        </ListItem>\n    );\n};\n\nconst SecondaryNameInput = (props: Props) => {\n    const { stnId } = props;\n    const { t } = useTranslation();\n    const classes = useStyles();\n    const reduxDispatch = useDispatch();\n\n    const { dispatch } = useContext(ParamContext);\n    const { secondaryName } = useSelector((store: RootState) => store.param.stn_list[stnId]);\n    return (\n        <>\n            <ListItem>\n                <ListItemIcon>\n                    <Icon>text_fields</Icon>\n                </ListItemIcon>\n                <ListItemText primary={t('stations.edit.name.secondary')} />\n                <ListItemSecondaryAction>\n                    <Switch\n                        color=\"primary\"\n                        edge=\"end\"\n                        checked={secondaryName !== false}\n                        onChange={(_, checked) => {\n                            dispatch({\n                                type: 'UPDATE_STATION_SECONDARY_NAME',\n                                stnId,\n                                name: checked ? ['', ''] : false,\n                            });\n                            reduxDispatch(updateStationSecondaryName(stnId, checked ? ['', ''] : false));\n                        }}\n                    />\n                </ListItemSecondaryAction>\n            </ListItem>\n            <Collapse\n                in={secondaryName !== false}\n                unmountOnExit\n                classes={{ wrapper: classes.collapseWrapper, wrapperInner: classes.collapseWrapperInner }}\n            >\n                <div className={classes.secondaryNameRoot}>\n                    <span className={classes.secondaryNameParenthesis}>{'('}</span>\n                    <div className={classes.secondaryNameInputRoot}>\n                        <TextField\n                            fullWidth\n                            placeholder={t('editor.zh')}\n                            className={classes.secondaryNameInputZH}\n                            value={secondaryName ? secondaryName[0] : ''}\n                            onChange={({ target: { value } }) => {\n                                dispatch({\n                                    type: 'UPDATE_STATION_SECONDARY_NAME',\n                                    stnId,\n                                    name: [value, secondaryName ? secondaryName[1] : ''],\n                                });\n                                reduxDispatch(\n                                    updateStationSecondaryName(stnId, [value, secondaryName ? secondaryName[1] : ''])\n                                );\n                            }}\n                        />\n                        <TextField\n                            fullWidth\n                            placeholder={t('editor.en')}\n                            value={secondaryName ? secondaryName[1] : ''}\n                            onChange={({ target: { value } }) => {\n                                dispatch({\n                                    type: 'UPDATE_STATION_SECONDARY_NAME',\n                                    stnId,\n                                    name: [secondaryName ? secondaryName[0] : '', value],\n                                });\n                                reduxDispatch(\n                                    updateStationSecondaryName(stnId, [secondaryName ? secondaryName[0] : '', value])\n                                );\n                            }}\n                        />\n                    </div>\n                    <span className={classes.secondaryNameParenthesis}>{')'}</span>\n                </div>\n            </Collapse>\n        </>\n    );\n};\n"],"sourceRoot":""}